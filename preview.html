<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Alex Styl" />
  <title>From View to Composable</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  
</head>
<body>
<!-- <header id="title-block-header"> -->
<!-- <h1 class="title">From View to Composable</h1> -->
<!--  -->
<!--  -->
<!-- <p class="author">Alex Styl</p> -->
<!--  -->
<!--  -->
<!-- </header> -->
<h1 id="preface">Preface</h1>
<p>Building User Interfaces using Jetpack Compose can be daunting after
years of building interfaces with Android Views.</p>
<p>I felt the same way when I first started using Jetpack Compose. I
have been developing with Android since 2012 and ever since I have
enjoyed working on layouts and animations. Compose felt awkward and
intimidating. I couldn’t do the most basic things I was so used to do
using Views so easily.</p>
<p>I could see the benefit of using Compose straight away, but the lack
of knowledge and resources in the community made it incredibly hard to
get started. Finally after months playing with it it clicked and it felt
natural. I want you to be able to use Compose straight away, right after
picking up this book.</p>
<p>It will be a no fluff, concise book on how to do things you already
know from Views to Compose. This book is not written in a way to be read
in a linear fashion. Instead, this book is written to answer any
specific question you might have while developing with Compose. Say for
example that you are working with text and you need to style it. Jump
straight to the Text chapter and find the answer to your styling
questions there.</p>
<p>There are parts that might not give much information about a specific
aspect of Compose and that is intentional. In the Text chapter, there is
little emphasis to how you would use theming to style your entire app’s
Text in a single way, as the focus there in on how to use the Text
composable. Instead you can read all about it in the Theming
chapter.</p>
<p>If you are new in Compose or you struggle with understanding reading
Compose code, I strongly encourage you to read the first chapter.</p>
<p>Last but not least, I would like to thank you for purchasing this
book. The only reason that I can work on projects like this book is
because of your support.</p>
<p>Enjoy and happy coding,</p>
<p>– Alex Styl (<a href="https://twitter.com/alexstyl"><span class="citation" data-cites="alexstyl">@alexstyl</span></a>)</p>
<h1 id="understanding-compose-code">Understanding Compose code</h1>
<p>In Jetpack Compose, each component that needs to be rendered on the
screen can be defined as a Kotlin Unit function marked with the
<code>@Composable</code> annotation like this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Composable</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">Article</span><span class="op">(</span><span class="va">title</span><span class="op">:</span> <span class="dt">String</span><span class="op">,</span> <span class="va">description</span><span class="op">:</span> <span class="dt">String</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    Card <span class="op">{</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        Column <span class="op">{</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span>title<span class="op">)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            Spacer<span class="op">(</span>Modifier<span class="op">.</span>height<span class="op">(</span><span class="fl">10.</span>dp<span class="op">))</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span>description<span class="op">)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>We call those functions <em>composables</em>. The above composable
will render a Card with a title and a subtitle, with a spacing of 10 dp
in between.</p>
<p>Every time the title and description change, the UI will be updated
to reflect the updated values. This is what we call
<em>recomposition</em>.</p>
<p>You may only call composable functions from other composable
functions. Because of this, activities that use Composable to render
their layouts will look like this:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyActivity <span class="op">:</span> <span class="dt">ComponentActivity</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">onCreate</span><span class="op">(</span><span class="va">savedInstanceState</span><span class="op">:</span> <span class="dt">Bundle</span><span class="op">?)</span> <span class="op">{</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="kw">super</span><span class="op">.</span>onCreate<span class="op">(</span>savedInstanceState<span class="op">)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        setContent <span class="op">{</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>            <span class="co">// use your composables here</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><code>setContent {}</code> is an extension function of the
<code>ComponentActivity</code><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. Using composables in a
Fragment needs a <code>ComposeView</code> like so:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyFragment <span class="op">:</span> <span class="dt">Fragment</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">onCreateView</span><span class="op">(</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">inflater</span><span class="op">:</span> <span class="dt">LayoutInflater</span><span class="op">?,</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">container</span><span class="op">:</span> <span class="dt">ViewGroup</span><span class="op">?,</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">savedInstanceState</span><span class="op">:</span> <span class="dt">Bundle</span><span class="op">?</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">):</span> <span class="dt">View</span> <span class="op">{</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> ComposeView<span class="op">(</span>requireContext<span class="op">()).</span>apply <span class="op">{</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>            setViewCompositionStrategy<span class="op">(</span>DisposeOnViewTreeLifecycleDestroyed<span class="op">)</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>            setContent <span class="op">{</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>                <span class="co">// use your composables here</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>In the View world, there are some common attributes and features
found in most Views out there. Things like setting click and touch
listeners, applying elevation, alpha, to name a few. For anyone creating
their own custom views, there was a lot of boilerplate code to implement
for your view to support such operations.</p>
<p>Compose introduces the concept of <code>Modifiers</code>. Modifiers
provide functionality and features to composables without being tied to
specific composables. Some Modifiers can be used for styling the
composable (see <code>background()</code>, <code>border()</code> ,
<code>clip()</code> , <code>shadow()</code>, <code>alpha()</code>,
<code>animateContentSize()</code>), others help with the placement and
sizing of the composable (see <code>fillMaxWidth()</code> ,
<code>size()</code>, <code>heightIn()</code>, <code>padding()</code>)
and others can bring functionality to the composable such as enabling
click behavior or dragging (see <code>clickable()</code>
,<code>draggable()</code>, <code>toggleable()</code>,
<code>swipeable()</code>).</p>
<p>It is considered a good practice to always provide a
<code>Modifier</code> when creating your own composable. This will allow
callers of your composable to provide custom styling and specify any
layout requirements they might have independently of the composable’s
code.</p>
<p>That was the basic knowledge you need, in order to understand Compose
code you see in the wild. There are a few concepts that are new to
Compose. Those new concepts will be explained in later parts of this
book.</p>
<h1 id="textview-to-text">TextView to Text</h1>
<p><code>Text</code> is the direct replacement of <code>TextView</code>.
It includes all standard <code>TextView</code> customizations and many
more. Customizations can be passed directly as parameters to the
composable. You can extract all customizations into a
<code>TextStyle</code> that you can use through your app. You can
provide a <code>TextStyle</code> directly into a <code>Text</code> as a
parameter or via theming.</p>
<p>Example of usage:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span><span class="st">&quot;hello from Compose&quot;</span><span class="op">)</span> </span></code></pre></div>
<h2 id="how-to-customize-your-text-text-color-size-max-lines-etc">How to
customize your text (text color, size, max lines, etc)</h2>
<p>The <code>Text</code> composable supports functionality you would
expect such as changing its <code>textSize</code>, setting its
<code>maxLines</code> or its <code>color</code>.</p>
<p>In addition to standard <code>TextView</code> functionality, you get
the option to modify the text’s <code>letterSpacing</code>,
<code>lineHeight</code> and more. All customization options can be found
by inspecting the parameters of the <code>Text</code> composable.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Hello from Compose&quot;</span><span class="op">,</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    fontSize <span class="op">=</span> <span class="fl">18.</span>sp<span class="op">,</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    maxLines <span class="op">=</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    color <span class="op">=</span> Color<span class="op">.</span>Blue<span class="op">,</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-reuse-your-text-styles">How to reuse your text
styles</h2>
<p>One of the most important parameters of <code>Text</code> composable
is the <code>style</code> parameter. It allows you to pass a
<code>TextStyle</code>. This works in a very similar way to Views’s
<code>TextAppearance</code>.</p>
<p>A <code>TextStyle</code> contains all customizations you can apply as
parameters to a <code>Text</code> composable. The benefit is that you
can reuse the created style in multiple Text composables in your app.
This makes styling consistent across the app and makes your composables
easier to read and maintain.</p>
<p>A typical <code>TextStyle</code> looks like this:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">h1</span> <span class="op">=</span> TextStyle<span class="op">(</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    fontFamily <span class="op">=</span> FontFamily<span class="op">.</span>Default<span class="op">,</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    fontWeight <span class="op">=</span> FontWeight<span class="op">.</span>SemiBold<span class="op">,</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    fontSize <span class="op">=</span> <span class="fl">42.</span>sp</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<p>which you can use in your <code>Text</code> like this:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span><span class="st">&quot;My big header&quot;</span><span class="op">,</span> style <span class="op">=</span> h1<span class="op">)</span></span></code></pre></div>
<p>Alternatively, you can define the style in your application’s theme
like this:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">Typography</span> <span class="op">=</span> Typography<span class="op">(</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    h1 <span class="op">=</span> TextStyle<span class="op">(</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        fontFamily <span class="op">=</span> FontFamily<span class="op">.</span>Default<span class="op">,</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        fontWeight <span class="op">=</span> FontWeight<span class="op">.</span>SemiBold<span class="op">,</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        fontSize <span class="op">=</span> <span class="fl">42.</span>sp</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="at">@Composable</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">MyTheme</span><span class="op">(</span><span class="va">content</span><span class="op">:</span> @<span class="dt">Composable</span> (<span class="op">)</span> -&gt; <span class="fu">Unit</span>) <span class="op">{</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    MaterialTheme<span class="op">(</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        typography <span class="op">=</span> Typography<span class="op">,</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        content <span class="op">=</span> content</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>and use it in your composable:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>MyTheme <span class="op">{</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;My big header&quot;</span><span class="op">,</span> style <span class="op">=</span> MaterialTheme<span class="op">.</span>Typography<span class="op">.</span>h1<span class="op">)</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-use-custom-fonts">How to use custom Fonts</h2>
<p>One of the parameters of <code>Text</code> is
<code>fontFamily</code>. Compose provides some built-in fonts you can
use that are device dependant, using the <code>FontFamily</code>
object.</p>
<p>If the passed font family is not available on the device, a default
font will be used instead. Alternatively, you can also <a href="#how-to-create-custom-fonts">define your own custom fonts</a> in
order to personalize your app further.</p>
<p>Example:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span><span class="st">&quot;This text is written in cursive&quot;</span><span class="op">,</span> fontFamily <span class="op">=</span> FontFamily<span class="op">.</span>Cursive<span class="op">)</span></span></code></pre></div>
<p>The font family can be used directly as a parameter to your
<code>Text</code> composable or via a <code>TextStyle</code>. The
<code>TextStyle</code> can be used in your application’s theme.</p>
<p>There is a big chance that you will need to change the font of the
entire app. For this purpose, you can use the
<code>defaultFontFamily</code> parameter of the <code>Typography</code>
class, which is part of the <code>MaterialTheme</code>.</p>
<h2 id="how-to-create-custom-fonts">How to create custom Fonts</h2>
<p>First, store your <em>.tff</em> font files into your project under
your <code>res/font</code> folder.</p>
<blockquote>
<p>You can find a plethora of free to use fonts at <a href="https://fonts.google.com/">Google Fonts</a>.</p>
</blockquote>
<p>Each font family might come with multiple files. Each file represents
a different weight of the font, such as bold, semi-bold or thin. You
will have to copy all those files in your resource folder.</p>
<p>Then, create a new <code>FontFamily</code> object and link each file
to a respective styling:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">Urbanist</span> <span class="op">=</span> FontFamily<span class="op">(</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    Font<span class="op">(</span>R<span class="op">.</span>font<span class="op">.</span>urbanist_thin<span class="op">,</span> weight <span class="op">=</span> FontWeight<span class="op">.</span>Thin<span class="op">),</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    Font<span class="op">(</span>R<span class="op">.</span>font<span class="op">.</span>urbanist_light<span class="op">,</span> weight <span class="op">=</span> FontWeight<span class="op">.</span>Light<span class="op">),</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    Font<span class="op">(</span>R<span class="op">.</span>font<span class="op">.</span>urbanist_regular<span class="op">,</span> weight <span class="op">=</span> FontWeight<span class="op">.</span>Normal<span class="op">),</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    Font<span class="op">(</span>R<span class="op">.</span>font<span class="op">.</span>urbanist_medium<span class="op">,</span> weight <span class="op">=</span> FontWeight<span class="op">.</span>Medium<span class="op">),</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    Font<span class="op">(</span>R<span class="op">.</span>font<span class="op">.</span>urbanist_bold<span class="op">,</span> weight <span class="op">=</span> FontWeight<span class="op">.</span>Bold<span class="op">),</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    Font<span class="op">(</span>R<span class="op">.</span>font<span class="op">.</span>urbanist_italic<span class="op">,</span> style <span class="op">=</span> FontStyle<span class="op">.</span>Italic<span class="op">),</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-use-strings-from-xml-resources">How to use strings from
xml resources</h2>
<p>You can continue using all your translated XML string resources in
your composables. Instead of having to rely to a <code>Resource</code>
or <code>Context</code> object, you can use the
<code>stringResource()</code> function:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span>stringResource<span class="op">(</span>R<span class="op">.</span>string<span class="op">.</span>my_translated_string<span class="op">))</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">// stringResource accepts args too</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span>stringResource<span class="op">(</span>R<span class="op">.</span>string<span class="op">.</span>hello_to<span class="op">),</span> <span class="st">&quot;Alex&quot;</span><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-use-string-plurals-from-xml-resources">How to use string
plurals from xml resources</h2>
<p>There is currently no built-in way to use plurals. You would have to
create your own function for the job.</p>
<p>You can use a mechanism called <em>Composition Locals</em> to get the
current <code>Context</code> from a current composable function. This is
what <code>stringResource()</code> and other similar resource functions
use internally to get a hold of <code>Context</code> when needed.</p>
<p>A function for string plurals might look like this:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Composable</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">fun</span> <span class="fu">quantityStringResource</span><span class="op">(</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        @<span class="va">PluralsRes</span> <span class="va">pluralResId</span><span class="op">:</span> <span class="dt">Int</span><span class="op">,</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">quantity</span><span class="op">:</span> <span class="dt">Int</span><span class="op">,</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">vararg</span> <span class="va">formatArgs</span><span class="op">:</span> <span class="dt">Any</span><span class="op">?</span> <span class="op">=</span> emptyArray<span class="op">()</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">):</span> <span class="dt">String</span> <span class="op">{</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> LocalContext<span class="op">.</span>current<span class="op">.</span>resources</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>getQuantityString<span class="op">(</span>pluralResId<span class="op">,</span> quantity<span class="op">,</span> <span class="op">*</span>formatArgs<span class="op">)</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>which you can use in your app like this:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">// &quot;Contact&quot; or &quot;Contacts&quot; depending on the numberOfContacts</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span>quantityStringResource<span class="op">(</span>R<span class="op">.</span>plurals<span class="op">.</span>contact<span class="op">),</span> numberOfContacts<span class="op">)</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">// &quot;No contact&quot;, &quot;1 contact&quot;, or &quot;$number contacts&quot;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    quantityStringResource<span class="op">(</span>R<span class="op">.</span>plurals<span class="op">.</span>x_number_of_contacts<span class="op">),</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    numberOfContacts<span class="op">,</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    numberOfContacts</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-make-text-clickable">How to make Text clickable</h2>
<p>Instead of using a <code>Modifier.clickable {}</code> to make your
text clickable, it is recommended to wrap your <code>Text</code> into an
<code>TextButton</code> composable instead. The <code>TextButton</code>
will style your Text according to your theme, and will include the right
minimum touch target size required.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>TextButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="co">/*</span><span class="al">TODO</span><span class="co"> start search*/</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Search&quot;</span><span class="op">)</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-make-part-of-text-clickable-urlspans">How to make part of
Text clickable (UrlSpans)</h2>
<p>Create an <code>AnnotatedString</code> with the styling and URL
information you need:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">tag</span> <span class="op">=</span> <span class="st">&quot;info&quot;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">annotatedString</span> <span class="op">=</span> buildAnnotatedString <span class="op">{</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">text</span> <span class="op">=</span> <span class="st">&quot;For more info click here&quot;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    append<span class="op">(</span>text<span class="op">)</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">start</span> <span class="op">=</span> text<span class="op">.</span>indexOf<span class="op">(</span><span class="st">&quot;here&quot;</span><span class="op">)</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">end</span> <span class="op">=</span> start <span class="op">+</span> <span class="dv">4</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    addStyle<span class="op">(</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        style <span class="op">=</span> SpanStyle<span class="op">(</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>            color <span class="op">=</span> MaterialTheme<span class="op">.</span>colors<span class="op">.</span>primary<span class="op">,</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>            textDecoration <span class="op">=</span> TextDecoration<span class="op">.</span>Underline</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">),</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        start <span class="op">=</span> start<span class="op">,</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>        end <span class="op">=</span> end</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    addStringAnnotation<span class="op">(</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>        tag <span class="op">=</span> tag<span class="op">,</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>        annotation <span class="op">=</span> <span class="st">&quot;https://viewtocomposable.com&quot;</span><span class="op">,</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>        start <span class="op">=</span> start<span class="op">,</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>        end <span class="op">=</span> end</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>then pass the annotated String into a <code>ClickableText</code> and
use the <code>LocalUriHandler</code> to launch the respective URL:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">uriHandler</span> <span class="op">=</span> LocalUriHandler<span class="op">.</span>current</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>ClickableText<span class="op">(</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> annotatedString<span class="op">,</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    onClick <span class="op">=</span> <span class="op">{</span> offset <span class="op">-&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>        annotatedString</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>getStringAnnotations<span class="op">(</span>tag<span class="op">,</span> offset<span class="op">,</span> offset<span class="op">)</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>firstOrNull<span class="op">()</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>            <span class="op">?.</span>let <span class="op">{</span> string <span class="op">-&gt;</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>                uriHandler<span class="op">.</span>openUri<span class="op">(</span>string<span class="op">.</span>item<span class="op">)</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-align-my-text-according-to-its-baseline">How to align my
Text according to its baseline</h2>
<p>Use <code>Modifier.paddingFromBaseline()</code> to place paddings to
your composable according to your Text’s first or last line’s
baseline.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Text<span class="op">(</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Choose an account&quot;</span><span class="op">,</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    modifier <span class="op">=</span> Modifier<span class="op">.</span>paddingFromBaseline<span class="op">(</span>top <span class="op">=</span> <span class="fl">40.</span>dp<span class="op">),</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    style <span class="op">=</span> MaterialTheme<span class="op">.</span>typography<span class="op">.</span>h6</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h1 id="edittext-to-textfield">EditText to TextField</h1>
<p>The main way for inputting text through user input in Compose is via
<code>TextField</code>. As opposed to the <code>EditText</code>, this
composable does not hold a reference to the value it renders. Instead it
accepts the value it needs to display as a parameter. Similarly, is
accepts a callback for when the text changes.</p>
<p>Both <code>TextField</code> and its variant
<code>OutlinedTextField</code> support all stylistic options that appear
on Google’s <a href="https://material.io/go/design-text-fields">Material
Guidelines</a>. This includes hints, outlines, leading and trailing
icons.</p>
<p>A third variant of <code>EditText</code> also exists, called
<code>BasicTextField</code>. This composable can be used for text input
without any stylistic options. This is useful in cases you need
additional customization freedom in your text input.</p>
<h2 id="how-to-listen-to-text-changes-textchangedlistener">How to listen
to text changes (TextChangedListener)</h2>
<p>The <code>TextField</code> composable requires the text to render via
the <em>text</em> parameter.</p>
<p>Once new text is input from the keyboard, the
<code>onTextChange</code> is called with the updated value. You can then
use the updated value to update the composable:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">text</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>TextField<span class="op">(</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> text<span class="op">,</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// new text has been input</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> it</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<p>Normally, you would keep that value within a <code>ViewModel</code>.
Once the new value is received you will forward the value back to the
ViewModel, similarly to how you would normally do it using Views.</p>
<p>In the above example, the text is stored as a
<code>MutableState</code> within the composable for simplicity.</p>
<h2 id="how-to-change-the-text-style-of-an-textfield-text-colors-fonts-etc">How
to change the text style of an TextField (text colors, fonts, etc)</h2>
<p>Similar to <a href="#textview-to-text"><code>Text</code></a> a
<code>TextField</code> accepts a <code>textStyle</code> which is used to
customize the looks of the displayed text.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">text</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>TextField<span class="op">(</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    textStyle <span class="op">=</span> TextStyle<span class="op">(</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>        fontFamily <span class="op">=</span> FontFamily<span class="op">.</span>Monospace</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">),</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> text<span class="op">,</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> it</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<p>The above sample causes the <code>TextField</code> to render its text
using the <em>Monospace</em> font.</p>
<h2 id="how-to-specify-the-input-type-phone-numbers-e-mails-text-digits">How
to specify the input type (phone numbers, e-mails, text, digits)</h2>
<p>You can specify the expected input type of the <code>TextField</code>
via the <code>keyboardOptions</code> parameter. This will request the
selected soft-keyboard to display the best keyboard layout for the
job.</p>
<p>The following example asks the soft-keyboard for a dial-pad layout,
which will prompt the soft-keyboard to display a dial-pad layout.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">text</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>TextField<span class="op">(</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> text<span class="op">,</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> it</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    keyboardOptions <span class="op">=</span> KeyboardOptions<span class="op">(</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>        keyboardType <span class="op">=</span> KeyboardType<span class="op">.</span>Phone</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-specify-and-handle-ime-action-change-enter-to-done-search-next-etc">How
to specify and handle IME action (change ENTER to Done, Search, Next,
etc)</h2>
<p>The <code>keyboardOptions</code> parameter accepts an
<code>ImeAction</code>. Depending on the value you provide, the
soft-keyboard will display a different action instead of the return
key.</p>
<p>By default, the return key will do nothing once pressed.</p>
<p>You can receive callbacks regarding keyboard actions via the
<code>keyboardActions</code> parameter. You can specify actions for
different events (such as <code>onDone</code>, <code>onNext</code>,
<code>onSearch</code>, etc). Unless you need to handle a complicated
scenario, the <code>KeyboardActions</code> provide an <code>onAny</code>
callback.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">address</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>TextField<span class="op">(</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> address<span class="op">,</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>        address <span class="op">=</span> it</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    keyboardOptions <span class="op">=</span> KeyboardOptions<span class="op">(</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        keyboardType <span class="op">=</span> KeyboardType<span class="op">.</span>Email<span class="op">,</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>        imeAction <span class="op">=</span> ImeAction<span class="op">.</span>Search</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-listen-to-specific-key-press-events">How to listen to
specific key press events</h2>
<p>Use the <code>onKeyEvent</code> modifier to observe specific key
press events. It works similarly to
<code>Views.setOnKeyListener()</code>. It provides a
<code>KeyEvent</code> with information about the key that was pressed
(or released).</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">text</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>TextField<span class="op">(</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    modifier <span class="op">=</span> Modifier<span class="op">.</span>onKeyEvent <span class="op">{</span> keyEvent <span class="op">-&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>keyEvent<span class="op">.</span>type <span class="op">==</span> KeyEventType<span class="op">.</span>KeyUp</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>            <span class="op">&amp;&amp;</span> keyEvent<span class="op">.</span>key <span class="op">==</span> Key<span class="op">.</span>Backspace</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span> <span class="op">{</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>            <span class="co">// Backspace was pressed.</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>            <span class="co">// consume the event by returning &#39;true&#39;</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>            <span class="kw">true</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>            <span class="kw">false</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> text<span class="op">,</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> it</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-request-focus">How to request focus</h2>
<p>The <code>TextField</code> composables will not request focus by
default as opposed to <code>EditText</code>.</p>
<p>You need a reference to a <code>FocusRequester()</code> which
provides the API for capturing focus. It is up to you to request focus
when needed.</p>
<p>The following snippet tries to replicate the <code>EditText</code>’s
automatic way of receiving focus. The difference is that the focus will
be requested only the first time the composable enters composition.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">focusRequester</span> <span class="op">=</span> remember <span class="op">{</span> FocusRequester<span class="op">()</span> <span class="op">}</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>LaunchedEffect<span class="op">(</span><span class="kw">Unit</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    focusRequester<span class="op">.</span>requestFocus<span class="op">()</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">value</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>TextField<span class="op">(</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    modifier <span class="op">=</span> Modifier<span class="op">.</span>focusRequester<span class="op">(</span>focusRequester<span class="op">),</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> value<span class="op">,</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>        value <span class="op">=</span> it</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    keyboardOptions <span class="op">=</span> KeyboardOptions<span class="op">(</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>        imeAction <span class="op">=</span> ImeAction<span class="op">.</span>Done</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">),</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-control-keyboard-focus">How to control keyboard
focus</h2>
<p>The <code>FocusManager</code> is the main API for controlling the
direction of focus. You gain access to the API by using the respective
composition local and controlling the focus on the appropriate
callback.</p>
<p>The following sample showcases how to move focus from a first
<code>TextField</code> to the second when the IME action is pressed. The
last <code>TextField</code> will clear focus when the IME action is
pressed.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>Column <span class="op">{</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">focusManager</span> <span class="op">=</span> LocalFocusManager<span class="op">.</span>current</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> <span class="va">value</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    TextField<span class="op">(</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>        value <span class="op">=</span> value<span class="op">,</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>            value <span class="op">=</span> it</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">},</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>        singleLine <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        keyboardActions <span class="op">=</span> KeyboardActions <span class="op">{</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>            focusManager<span class="op">.</span>moveFocus<span class="op">(</span>FocusDirection<span class="op">.</span>Next<span class="op">)</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">},</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    TextField<span class="op">(</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>        value <span class="op">=</span> value<span class="op">,</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>        onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>            value <span class="op">=</span> it</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">},</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>        singleLine <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>        keyboardActions <span class="op">=</span> KeyboardActions <span class="op">{</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>            focusManager<span class="op">.</span>clearFocus<span class="op">(</span>force <span class="op">=</span> <span class="kw">true</span><span class="op">)</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">},</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-show-the-soft-keyboard">How to show the
soft-keyboard</h2>
<p>The soft-keyboard will be automatically show as soon as a
<code>TextField</code> is focused. <a href="#how-to-request-focus">Check
how to request focus</a> for a code sample.</p>
<h2 id="how-to-hide-the-soft-keyboard">How to hide the
soft-keyboard</h2>
<p>The soft-keyboard will be automatically dismissed when focus is
cleared. The following sample clears focus when the IME action is
pressed:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">focusManager</span> <span class="op">=</span> LocalFocusManager<span class="op">.</span>current</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">value</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>TextField<span class="op">(</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> value<span class="op">,</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>        value <span class="op">=</span> it</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    singleLine <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    keyboardActions <span class="op">=</span> KeyboardActions <span class="op">{</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>        focusManager<span class="op">.</span>clearFocus<span class="op">(</span>force <span class="op">=</span> <span class="kw">true</span><span class="op">)</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-customize-the-style-of-your-textfield-border-colors-etc">How
to customize the style of your TextField (border, colors, etc)</h2>
<p>You can modify the shape of your <code>TextField</code> by using the
<code>shape</code> parameter. For example passing a
<code>RoundedCornerShape(20.dp)</code> will render a
<code>TextField</code> with rounded corners with a radius of 20 dp.</p>
<p>The colors of the <code>TextField</code> are controlled by the
<code>color</code> parameter. It allows you to specify colors of very
particular parts of your <code>TextField</code> such as its contents,
background or cursor color. To make this easier, you can use the
<code>TextFieldDefaults</code> functions for the default colors of the
respective <code>TextField</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">value</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>OutlinedTextField<span class="op">(</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    shape <span class="op">=</span> CircleShape<span class="op">,</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    colors <span class="op">=</span> TextFieldDefaults<span class="op">.</span>textFieldColors<span class="op">(</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>        backgroundColor <span class="op">=</span> </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>                    MaterialTheme<span class="op">.</span>colors<span class="op">.</span>primary<span class="op">.</span>copy<span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.12f</span><span class="op">),</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">),</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> value<span class="op">,</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>        value <span class="op">=</span> it</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<blockquote>
<p>When styling your composables, prefer using colors via the current
theme. You can gain access to the colors of your theme by using the
<code>MaterialTheme.colors</code> object.</p>
</blockquote>
<h2 id="how-to-change-colors-of-your-textfield">How to change colors of
your TextField</h2>
<p>Use the <code>colors</code> parameter to specify colors such as the
text color, cursor color, error color and more.</p>
<p>Use the functions of the <code>TextFieldDefaults</code> object for
default values:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">text</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>TextField<span class="op">(</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> text<span class="op">,</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> it</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    colors <span class="op">=</span> TextFieldDefaults<span class="op">.</span>textFieldColors<span class="op">(</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>        cursorColor <span class="op">=</span> Color<span class="op">.</span>Magenta<span class="op">,</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>        trailingIconColor <span class="op">=</span> Color<span class="op">.</span>LightGray<span class="op">,</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>        backgroundColor <span class="op">=</span> Color<span class="op">.</span>Transparent</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">),</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    trailingIcon <span class="op">=</span> <span class="op">{</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>        Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>Info<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-display-an-error-to-your-textfield">How to display an
error to your TextField</h2>
<p>Pass <code>true</code> to the <em>isError</em> parameter to signify
that the <code>TextField</code> is in error state. This will make the
trailing icon, label and bottom indicator to be tinted in the error
color:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">text</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="st">&quot;&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>TextField<span class="op">(</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> text<span class="op">,</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> it</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    isError <span class="op">=</span> text<span class="op">.</span>isEmpty<span class="op">(),</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    trailingIcon <span class="op">=</span> <span class="op">{</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>        Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>Edit<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="am-i-forced-to-use-the-material-guidelines-looks-for-my-inputtext">Am
I forced to use the Material Guidelines looks for my InputText</h2>
<p>If <code>TextField</code> and <code>OutlinedTextField</code> might
not fit the style of your application’s design, you can use
<code>BasicTextField</code> to match your preferred looks.</p>
<h1 id="displaying-images-photos">Displaying Images &amp; Photos</h1>
<p>In Android XML, you would normally use an <code>ImageView</code> to
display images and photos such as contact profile photos, photos in a
gallery, or images downloaded from the web. In Compose, the composable
for the job is <code>Image</code>.</p>
<p>The <code>Image</code> composable provides functionality related to
image rendering, such as content scaling. An <code>Image</code> does not
know how to load a specified resource (such as a drawable from
resources). Instead it relies to its parameters for such functionality.
Depending on the source of your image you will use a
<code>Painter</code>, an <code>ImageVector</code> or an
<code>ImageBitmap</code>.</p>
<p>Example of usage:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>Image<span class="op">(</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>        painterResource<span class="op">(</span>R<span class="op">.</span>drawable<span class="op">.</span>photo<span class="op">),</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>        contentDescription <span class="op">=</span> <span class="st">&quot;A generic photo used as an example.&quot;</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-load-an-image-from-resources">How to load an image from
resources</h2>
<p>Use the <code>painterResource()</code> painter as a parameter to your
<code>Image</code> to load a drawable from resources.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>Image<span class="op">(</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    painterResource<span class="op">(</span>R<span class="op">.</span>drawable<span class="op">.</span>background<span class="op">),</span> </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    contentDescription <span class="op">=</span> <span class="st">&quot;Search&quot;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-crop-an-image-circular">How to crop an Image
circular</h2>
<p>Use the <code>clip()</code> modifier using a
<code>CircularShape</code>. In order for the image to be rendered as a
circle, its size needs to be a square (same width and height).</p>
<p>Unless you are sure that the size of the images will not be changing
(such as loading local content), it is advised to set a size and the
content scale.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>Image<span class="op">(</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    painterResource<span class="op">(</span>R<span class="op">.</span>drawable<span class="op">.</span>photo<span class="op">),</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    modifier <span class="op">=</span> Modifier</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>clip<span class="op">(</span>CircleShape<span class="op">)</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>size<span class="op">(</span><span class="fl">120.</span>dp<span class="op">),</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    contentScale <span class="op">=</span> ContentScale<span class="op">.</span>Crop<span class="op">,</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    contentDescription <span class="op">=</span> <span class="st">&quot;A generic photo used as an example.&quot;</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-set-the-aspect-ratio-of-an-image">How to set the aspect
ratio of an image</h2>
<p>Use the <code>aspectRatio()</code> modifier.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>Image<span class="op">(</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    painterResource<span class="op">(</span>R<span class="op">.</span>drawable<span class="op">.</span>photo<span class="op">),</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    modifier <span class="op">=</span> Modifier</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>aspectRatio<span class="op">(</span><span class="fl">16f</span><span class="op">/</span><span class="fl">9f</span><span class="op">),</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    contentScale <span class="op">=</span> ContentScale<span class="op">.</span>Crop<span class="op">,</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    contentDescription <span class="op">=</span> <span class="kw">null</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-tint-a-photo">How to tint a photo</h2>
<p>Pass a <code>ColorFilter.tint()</code> to the
<code>colorFilter</code> parameter. Depending on the effect you need,
you can provide a different <code>BlendMode</code>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>Image<span class="op">(</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    painterResource<span class="op">(</span>R<span class="op">.</span>drawable<span class="op">.</span>photo<span class="op">),</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>        contentDescription <span class="op">=</span> <span class="st">&quot;A generic photo used as an example.&quot;</span><span class="op">,</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    colorFilter <span class="op">=</span> ColorFilter<span class="op">.</span>tint<span class="op">(</span>Color<span class="op">.</span>Yellow<span class="op">,</span> BlendMode<span class="op">.</span>Darken<span class="op">)</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span></code></pre></div>
<p>Note that if you need to tint an icon, consider using an <a href="#iconography">Icon composable</a> instead.</p>
<h2 id="how-to-load-an-image-from-a-url">How to load an image from a
URL</h2>
<p>Jetpack Compose does not have a built-in functionality for loading
images from a URL. For this, you will have to rely on a third-party
library such as <a href="https://coil-kt.github.io/coil/compose/">Coil</a> or <a href="https://github.com/skydoves/landscapist">Landscapist</a>.</p>
<p>As an example, Coil provides an <code>AsyncImage</code> composable as
a convenience for loading images.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>AsyncImage<span class="op">(</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    model <span class="op">=</span> ImageRequest<span class="op">.</span>Builder<span class="op">(</span>LocalContext<span class="op">.</span>current<span class="op">)</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span><span class="kw">data</span><span class="op">(</span><span class="st">&quot;https://example.com/image.jpg&quot;</span><span class="op">)</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>crossfade<span class="op">(</span><span class="kw">true</span><span class="op">)</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>        <span class="op">.</span>build<span class="op">(),</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    contentDescription <span class="op">=</span> <span class="kw">null</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<p>Note that such libraries usually have their own image transformation
APIs that you should rely on instead of passing your own modifiers.</p>
<h1 id="iconography">Iconography</h1>
<p>Iconography is everywhere in mobile applications. From the app’s
launcher icon, to UI elements such as buttons, tabs and toolbars. In
Android Views, you would normally use an <code>ImageView</code> to
display an icon on the screen. The composable for this job is called
<code>Icon</code>.</p>
<p><code>Icon</code> is very similar to an <code>Image</code>. It
requires a <code>Painter</code>, an <code>ImageVector</code> or an
<code>ImageBitmap</code> depending on where the icon data lives, and a
content description for accessibility purposes. The difference is that
an <code>Icon</code> will always tint its contents.</p>
<p>Example:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>Search<span class="op">,</span> contentDescription <span class="op">=</span> <span class="st">&quot;Search&quot;</span><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-load-an-icon-from-resources">How to load an icon from
resources</h2>
<p>Use the <code>painterResource()</code> painter as a parameter to your
<code>Image</code> to load a drawable from resources.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>Icon<span class="op">(</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    painterResource<span class="op">(</span>R<span class="op">.</span>drawable<span class="op">.</span>ic_favorite<span class="op">),</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    contentDescription <span class="op">=</span> <span class="st">&quot;Favorite&quot;</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="using-built-in-icons">Using built-in icons</h2>
<p>The Material Compose dependency <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> comes with the
<code>Icons</code> object. It contains a plethora of default Material
icons you can use in your app. It contains the most frequent icons apps
use such as heart (for favorites), search, add and remove icons, and
more.</p>
<p>In addition, you can choose the styling of icons between
<code>Rounded</code>, <code>Sharp</code>, <code>Outlined</code>,
<code>Filled</code> and <code>TwoTone</code>. The icons are
<code>ImageVectors</code> and you can use them directly in your
<code>Icon</code> composable.</p>
<h2 id="how-to-make-icons-clickable">How to make Icons clickable</h2>
<p>Instead of using a <code>Modifier.clickable {}</code> to make the
icon clickable, it is recommended to wrap your <code>Icon</code> into an
<code>IconButton</code> composable. The <code>IconButton</code> ensures
the correct touch size for your icon, so that it can be touched
comfortably by your users’ fingers.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="co">/*</span><span class="al">TODO</span><span class="co"> start search*/</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>Search<span class="op">,</span> contentDescription <span class="op">=</span> <span class="st">&quot;Search&quot;</span><span class="op">)</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="buttons-in-compose">Buttons in Compose</h1>
<p>Compose comes with a variety of <code>Button</code> composables for
different use cases.</p>
<p>Each <code>Button</code> composable handle the click listeners and
interactions while receiving a content composable for the contents of
the button (such as text or icons).</p>
<p>Instead of having to style your buttons to match the Material
Guideline’s ones, Compose comes with a variety of buttons according to
your UI needs. Those composables include: <code>Button</code>,
<code>OutlineButton</code>, <code>TextButton</code> and
<code>IconButton</code>.</p>
<h2 id="how-to-create-a-button">How to create a Button</h2>
<p>The <code>Button</code> composable handles the click callback,
whereas the content composable passed to it will render the contents of
the button:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>Button<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> TODO<span class="op">()</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Click me&quot;</span><span class="op">)</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-change-the-colors-of-a-button">How to change the colors
of a Button</h2>
<p>Most buttons accept a <em>color</em> parameter for specifying colors
for things like the background and content.</p>
<p>You can use the functions of the <code>ButtonDefaults</code> for the
default values:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>Button<span class="op">(</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    colors <span class="op">=</span> ButtonDefaults<span class="op">.</span>buttonColors<span class="op">(</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>        backgroundColor <span class="op">=</span> Color<span class="op">.</span>Yellow<span class="op">,</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>        contentColor <span class="op">=</span> Color<span class="op">.</span>Black</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">),</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    onClick <span class="op">=</span> <span class="op">{</span> TODO<span class="op">()</span> <span class="op">}</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Click me&quot;</span><span class="op">)</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-change-the-text-styling-of-a-button">How to change the
text styling of a Button</h2>
<p>Button composables will automatically apply the
<code>MaterialTheme.typography.button</code> text style to its content
<code>Text</code>.</p>
<p>You can either update the respective TextStyle in your application’s
theme or provide your own via the <code>Text</code> composable:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>Button<span class="op">(</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    onClick <span class="op">=</span> <span class="op">{</span> TODO<span class="op">()</span> <span class="op">}</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> <span class="st">&quot;Click me&quot;</span><span class="op">,</span> style <span class="op">=</span> TextStyle<span class="op">(</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>            fontStyle <span class="op">=</span> FontStyle<span class="op">.</span>Italic</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-make-a-button-with-rounded-corners">How to make a Button
with rounded corners</h2>
<p>Most buttons accept the <em>shape</em> parameter which is used to
clip the outline of the button.</p>
<p>To create a rounded corner button, use the
<code>RoundedCornerShape</code> with the corner radius you need:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>Button<span class="op">(</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    shape <span class="op">=</span> RoundedCornerShape<span class="op">(</span><span class="fl">20.</span>dp<span class="op">),</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    onClick <span class="op">=</span> <span class="op">{</span> TODO<span class="op">()</span> <span class="op">}</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Click me&quot;</span><span class="op">)</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-do-i-do-textallcaps">How do I do textAllCaps</h2>
<p>There is no built-in way to capitalize all text in Jetpack Compose
automatically. You can use Kotlin’s <code>.uppercase()</code> extension
function on your string to capitalize it on demand.</p>
<p>Alternatively, you can create your own variation of <code>Text</code>
that capitalizes its strings:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Composable</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">fun</span> <span class="fu">TextAllCaps</span><span class="op">(</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">text</span><span class="op">:</span> <span class="dt">String</span><span class="op">,</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">modifier</span><span class="op">:</span> <span class="dt">Modifier</span> <span class="op">=</span> Modifier<span class="op">,</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">color</span><span class="op">:</span> <span class="dt">Color</span> <span class="op">=</span> Color<span class="op">.</span>Unspecified<span class="op">,</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">fontSize</span><span class="op">:</span> <span class="dt">TextUnit</span> <span class="op">=</span> TextUnit<span class="op">.</span>Unspecified<span class="op">,</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">fontStyle</span><span class="op">:</span> <span class="dt">FontStyle</span><span class="op">?</span> <span class="op">=</span> null<span class="op">,</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>        <span class="va">fontWeight</span><span class="op">:</span> <span class="dt">FontWeight</span><span class="op">?</span> <span class="op">=</span> null<span class="op">,</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">fontFamily</span><span class="op">:</span> <span class="dt">FontFamily</span><span class="op">?</span> <span class="op">=</span> null<span class="op">,</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>        <span class="va">letterSpacing</span><span class="op">:</span> <span class="dt">TextUnit</span> <span class="op">=</span> TextUnit<span class="op">.</span>Unspecified<span class="op">,</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">textDecoration</span><span class="op">:</span> <span class="dt">TextDecoration</span><span class="op">?</span> <span class="op">=</span> null<span class="op">,</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>        <span class="va">textAlign</span><span class="op">:</span> <span class="dt">TextAlign</span><span class="op">?</span> <span class="op">=</span> null<span class="op">,</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>        <span class="va">lineHeight</span><span class="op">:</span> <span class="dt">TextUnit</span> <span class="op">=</span> TextUnit<span class="op">.</span>Unspecified<span class="op">,</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>        <span class="va">overflow</span><span class="op">:</span> <span class="dt">TextOverflow</span> <span class="op">=</span> TextOverflow<span class="op">.</span>Clip<span class="op">,</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>        <span class="va">softWrap</span><span class="op">:</span> <span class="dt">Boolean</span> <span class="op">=</span> true<span class="op">,</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>        <span class="va">maxLines</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> Int<span class="op">.</span>MAX_VALUE<span class="op">,</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>        <span class="va">onTextLayout</span><span class="op">:</span> <span class="op">(</span><span class="dt">TextLayoutResult</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">Unit</span> <span class="op">=</span> <span class="op">{},</span></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>        <span class="va">style</span><span class="op">:</span> <span class="dt">TextStyle</span> <span class="op">=</span> LocalTextStyle<span class="op">.</span>current</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>            text <span class="op">=</span> text<span class="op">.</span>uppercase<span class="op">(),</span></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>            modifier <span class="op">=</span> modifier<span class="op">,</span></span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>            color <span class="op">=</span> color<span class="op">,</span></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>            fontSize <span class="op">=</span> fontSize<span class="op">,</span></span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>            fontStyle <span class="op">=</span> fontStyle<span class="op">,</span></span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>            fontWeight <span class="op">=</span> fontWeight<span class="op">,</span></span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>            fontFamily <span class="op">=</span> fontFamily<span class="op">,</span></span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>            letterSpacing <span class="op">=</span> letterSpacing<span class="op">,</span></span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>            textDecoration <span class="op">=</span> textDecoration<span class="op">,</span></span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>            textAlign <span class="op">=</span> textAlign<span class="op">,</span></span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>            lineHeight <span class="op">=</span> lineHeight<span class="op">,</span></span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a>            overflow <span class="op">=</span> overflow<span class="op">,</span></span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a>            softWrap <span class="op">=</span> softWrap<span class="op">,</span></span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a>            maxLines <span class="op">=</span> maxLines<span class="op">,</span></span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a>            onTextLayout <span class="op">=</span> onTextLayout<span class="op">,</span></span>
<span id="cb43-36"><a href="#cb43-36" aria-hidden="true" tabindex="-1"></a>            style <span class="op">=</span> style<span class="op">,</span></span>
<span id="cb43-37"><a href="#cb43-37" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb43-38"><a href="#cb43-38" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>and use it instead of <code>Text</code>:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>Button<span class="op">(</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    onClick <span class="op">=</span> <span class="op">{</span> TODO<span class="op">()</span> <span class="op">}</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    TextAllCaps<span class="op">(</span><span class="st">&quot;Click me&quot;</span><span class="op">)</span> <span class="co">// will display &quot;CLICK ME&quot;</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="toolbar-to-topappbar">Toolbar to TopAppBar</h1>
<p>The direct replacement of a View’s <code>Toolbar</code> is
<code>TopAppBar</code> in Compose.</p>
<p>There are two implementations of the <code>TopAppBar</code>. One
accepts different parts of the App Bar as optional parameters (such as
the navigation icon, the title and the actions). There is also a fully
customizable version of the <code>TopAppBar</code> in case your design
does not fit the Material Guidelines looks.</p>
<h2 id="how-to-do-i-create-a-topappbar">How to do I create a
TopAppBar</h2>
<p>The following snippet shows how to create a standard looking
<code>TopAppBar</code> with an navigation icon, a title and two actions.
Keep in mind that the <em>title</em> composable will receive the
<code>MaterialTheme.typography.h6</code> TextStyle when applied.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>TopAppBar<span class="op">(</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    navigationIcon <span class="op">=</span> <span class="op">{</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>        IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>            Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>ArrowBack<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> <span class="op">{</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;My App Title&quot;</span><span class="op">)</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    actions <span class="op">=</span> <span class="op">{</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>        IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>            Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>Search<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>        IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>            Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>Favorite<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-do-i-create-a-centered-title-topappbar">How do I create a
centered title TopAppBar</h2>
<p>The second overload of <code>TopAppBar</code> accepts a composable
function for the contents of the app bar.</p>
<p>This allows you to create a fully customizable looking app bar:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>TopAppBar <span class="op">{</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    Row<span class="op">(</span>verticalAlignment <span class="op">=</span> Alignment<span class="op">.</span>CenterVertically<span class="op">)</span> <span class="op">{</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>        IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>            Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>ArrowBack<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;My App Title&quot;</span><span class="op">,</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>            style <span class="op">=</span> MaterialTheme<span class="op">.</span>typography<span class="op">.</span>h6<span class="op">,</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>            modifier <span class="op">=</span> Modifier<span class="op">.</span>weight<span class="op">(</span><span class="fl">1f</span><span class="op">),</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>            textAlign <span class="op">=</span> TextAlign<span class="op">.</span>Center</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>        IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>            Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>Search<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-change-the-colors-of-the-topappbar">How to change the
colors of the TopAppBar</h2>
<p>The background color of the <code>TopAppBar</code> depends on the
<em>backgroundColor</em> parameter. The icons and text colors depend on
the <em>contentColor</em> parameter respectively.</p>
<p>By default, both parameters use colors from your application’s theme.
More specifically the <em>backgroundColor</em> uses the
<code>MaterialTheme.colors.primarySurface</code> (primary color on
light, surface color on dark theme).</p>
<h1 id="dialogs-and-alertdialogs">Dialogs and AlertDialogs</h1>
<p>As opposed to classic Dialogs in Android, dialogs in compose are part
of your layout definition. It is up to you to display and hide the
dialog according to the UI logic.</p>
<p>There are two variations of dialog: <code>Dialog</code> which accepts
a <em>content</em> composable. This allows for a customizable looking
dialog. There is also the <code>AlertDialog</code> variant that accepts
specific composable functions as parameters for different parts of the
dialog such as its title, text and buttons.</p>
<h2 id="how-do-i-create-an-alert-dialog">How do I create an Alert
Dialog</h2>
<p>First, keep a mutable state of a boolean so that your composable
knows when it is time to display the dialog.</p>
<p>Secondly, define an <code>AlertDialog</code> in your composable
layout and wrap it in an if statement using the boolean state.</p>
<p>When it is the right moment to display your dialog, flip the boolean
to true.</p>
<p>Do not forget to flip the boolean to false once the
<code>onDismissRequest</code> callback of your <code>AlertDialog</code>
is called.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">showDialog</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="kw">false</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>Button<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> showDialog <span class="op">=</span> showDialog<span class="op">.</span>not<span class="op">()</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Delete&quot;</span><span class="op">)</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>showDialog<span class="op">)</span> <span class="op">{</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    AlertDialog<span class="op">(</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>        onDismissRequest <span class="op">=</span> <span class="op">{</span> </span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>            showDialog <span class="op">=</span> <span class="kw">false</span> </span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">},</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> <span class="op">{</span> </span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span><span class="st">&quot;Are you sure you want to delete this?&quot;</span><span class="op">)</span> </span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">},</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> <span class="op">{</span> </span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span><span class="st">&quot;This action cannot be undone&quot;</span><span class="op">)</span> </span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">},</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>        confirmButton <span class="op">=</span> <span class="op">{</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>            TextButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="co">/* </span><span class="al">TODO</span><span class="co"> */</span><span class="op">})</span> <span class="op">{</span></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>                Text<span class="op">(</span><span class="st">&quot;Delete it&quot;</span><span class="op">.</span>uppercase<span class="op">())</span></span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">},</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>        dismissButton <span class="op">=</span> <span class="op">{</span></span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>            TextButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> showDialog <span class="op">=</span> <span class="kw">false</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>                TextAllCaps<span class="op">(</span><span class="st">&quot;Cancel&quot;</span><span class="op">)</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">},</span></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-create-an-alert-dialog-with-vertical-buttons">How to
create an Alert Dialog with vertical buttons</h2>
<p>The second variant of the <code>AlertDialog</code> accepts a
<em>buttons</em> composable parameter instead of the
<em>confirmButton</em> and <em>dismissButton</em>. This is meant for
custom button layouts such as a vertical layout.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>AlertDialog<span class="op">(</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    title <span class="op">=</span> <span class="op">{</span> Text<span class="op">(</span><span class="st">&quot;Are you sure you want to delete this?&quot;</span><span class="op">)</span> <span class="op">},</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> <span class="op">{</span> Text<span class="op">(</span><span class="st">&quot;This action cannot be undone&quot;</span><span class="op">)</span> <span class="op">},</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    onDismissRequest <span class="op">=</span> <span class="op">{</span> showDialog <span class="op">=</span> <span class="kw">false</span> <span class="op">},</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    buttons <span class="op">=</span> <span class="op">{</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>        Column<span class="op">(</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>            Modifier</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>padding<span class="op">(</span><span class="fl">8.</span>dp<span class="op">),</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>            horizontalAlignment <span class="op">=</span> Alignment<span class="op">.</span>End</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span> <span class="op">{</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>            TextButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="co">/* </span><span class="al">TODO</span><span class="co"> */</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>                Text<span class="op">(</span><span class="st">&quot;Delete it&quot;</span><span class="op">.</span>uppercase<span class="op">())</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>            TextButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> showDialog <span class="op">=</span> <span class="kw">false</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>                TextAllCaps<span class="op">(</span><span class="st">&quot;Cancel&quot;</span><span class="op">)</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h2 id="how-to-create-a-custom-layout-dialog">How to create a custom
layout dialog</h2>
<p>The <code>Dialog</code> composable is intended for dialogs with
custom content.</p>
<p>The following snippet shows how to create a custom layout for
selecting accounts:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>Dialog<span class="op">(</span>onDismissRequest <span class="op">=</span> <span class="op">{</span> showDialog <span class="op">=</span> <span class="kw">false</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    Column<span class="op">(</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>padding<span class="op">(</span>horizontal <span class="op">=</span> <span class="fl">24.</span>dp<span class="op">)</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Choose an account&quot;</span><span class="op">,</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>            modifier <span class="op">=</span> Modifier<span class="op">.</span>paddingFromBaseline<span class="op">(</span>top <span class="op">=</span> <span class="fl">40.</span>dp<span class="op">),</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>            style <span class="op">=</span> MaterialTheme<span class="op">.</span>typography<span class="op">.</span>h6</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>        Spacer<span class="op">(</span>Modifier<span class="op">.</span>height<span class="op">(</span><span class="fl">30.</span>dp<span class="op">))</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>        repeat<span class="op">(</span><span class="dv">3</span><span class="op">)</span> <span class="op">{</span> index <span class="op">-&gt;</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>            Row<span class="op">(</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>                horizontalArrangement <span class="op">=</span> Arrangement<span class="op">.</span>spacedBy<span class="op">(</span><span class="fl">20.</span>dp<span class="op">),</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>                modifier <span class="op">=</span> Modifier</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>clickable <span class="op">{</span> <span class="co">/* </span><span class="al">TODO</span><span class="co"> */</span> <span class="op">}</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>padding<span class="op">(</span>vertical <span class="op">=</span> <span class="fl">10.</span>dp<span class="op">)</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span> <span class="op">{</span></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>                Icon<span class="op">(</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>                    Icons<span class="op">.</span>Rounded<span class="op">.</span>AccountCircle<span class="op">,</span></span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>                    contentDescription <span class="op">=</span> <span class="kw">null</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>                <span class="op">)</span></span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>                Text<span class="op">(</span><span class="st">&quot;Account </span><span class="ss">$index</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-prevent-dismiss-when-tapped-outsideon-back-pressed">How
to prevent dismiss when tapped outside/on back pressed</h2>
<p>The <em>properties</em> parameter of the dialog accepts a
<code>DialogProperties</code>. In order to prevent the dialog from being
dismissed when tapped outside, pass <code>false</code> to
<em>dismissOnClickOutside</em>. Similarly, return <code>false</code> to
<em>dismissOnBackPress</em> to prevent dismissals on back press.</p>
<h2 id="how-to-change-the-colors-of-the-dialog">How to change the colors
of the dialog</h2>
<p>If you are using a <code>Dialog</code> you need to apply a background
color to your layout manually. You can do this by applying a
<code>background()</code> modifier to the contents of your dialog:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>Dialog<span class="op">(</span>onDismissRequest <span class="op">=</span> <span class="op">{</span> showDialog <span class="op">=</span> <span class="kw">false</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    Box<span class="op">(</span>Modifier<span class="op">.</span>background<span class="op">(</span>Color<span class="op">.</span>LightGray<span class="op">).</span>padding<span class="op">(</span><span class="fl">20.</span>dp<span class="op">))</span> <span class="op">{</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;My background is grey&quot;</span><span class="op">)</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><code>AlertDialog</code> composables provide a
<em>backgroundColor</em> parameter to apply the background of your
dialog. Instead of updating the color on the alert dialog itself, you
can update your theme’s <code>MaterialTheme.colors.surface</code> which
is the default color for the alert dialog’s background. Respectively,
the <code>contentColor</code> will update the content’s colors (such as
the Text’s).</p>
<h2 id="how-to-create-a-rounded-corner-dialog">How to create a rounded
corner dialog</h2>
<p>Pass a <code>RoundedCornerShape()</code> into the <em>shape</em>
parameter of your <code>AlertDialog</code>.</p>
<p>The default shape is taken from your application’s theme via the
<code>MaterialTheme.shapes.medium</code>.</p>
<p>It is not possible currently to have a rounded corner
<code>Dialog</code>:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>AlertDialog<span class="op">(</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    shape <span class="op">=</span> RoundedCornerShape<span class="op">(</span><span class="fl">20.</span>dp<span class="op">),</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    onDismissRequest <span class="op">=</span> <span class="op">{</span> showDialog <span class="op">=</span> <span class="kw">false</span> <span class="op">},</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> <span class="op">{</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;I have rounded corners&quot;</span><span class="op">)</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    confirmButton <span class="op">=</span> <span class="op">{</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>        TextButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> showDialog <span class="op">=</span> <span class="kw">false</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span><span class="st">&quot;Dismiss&quot;</span><span class="op">)</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<h1 id="snackbars">Snackbars</h1>
<p>Snackbars in Compose are often controlled via a
<code>SnackbarHost</code>. It is a wrapper composable that is
responsible of animating the Snackbar in or out of the screen according
to a given <code>SnackbarHostState</code>.</p>
<h2 id="how-to-create-a-snackbar">How to create a Snackbar</h2>
<p>Place a <code>SnackbarHost</code> composable in the area of the
layout you need the Snackbar to appear and pass a reference to a
<code>SnackbarHostState</code> that you can access later.</p>
<p>Use <code>remember {}</code> for your state, otherwise a new state
will be created on each recomposition.</p>
<p>When you need the Snackbar to appear, launch a coroutine and use
<code>snackbarHostState.showSnackbar()</code>:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>Box<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">snackbarHostState</span> <span class="op">=</span> remember <span class="op">{</span> SnackbarHostState<span class="op">()</span> <span class="op">}</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">scope</span> <span class="op">=</span> rememberCoroutineScope<span class="op">()</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    Button<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>        scope<span class="op">.</span>launch <span class="op">{</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>            snackbarHostState<span class="op">.</span>showSnackbar<span class="op">(</span><span class="st">&quot;Hello!&quot;</span><span class="op">)</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">})</span> <span class="op">{</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Show Snackbar&quot;</span><span class="op">)</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>    SnackbarHost<span class="op">(</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>        hostState <span class="op">=</span> snackbarHostState<span class="op">,</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>align<span class="op">(</span>Alignment<span class="op">.</span>BottomCenter<span class="op">),</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-add-an-action">How to add an action</h2>
<p>By passing a <code>String</code> to the
<code>snackbarHostState.showSnackbar()</code>’s <em>actionLabel</em>
parameter the Snackbar will display an action.</p>
<p>As soon as you call <code>showSnackbar()</code> the suspend function
will block the coroutine. Once the Snackbar is dismissed, the function
will return a <code>SnackbarResult</code>, notifying you whether the
user interacted with the Snackbar or not:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>Box<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">snackbarHostState</span> <span class="op">=</span> remember <span class="op">{</span> SnackbarHostState<span class="op">()</span> <span class="op">}</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">scope</span> <span class="op">=</span> rememberCoroutineScope<span class="op">()</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    Button<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>        scope<span class="op">.</span>launch <span class="op">{</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>            <span class="kw">val</span> <span class="va">result</span> <span class="op">=</span> snackbarHostState<span class="op">.</span>showSnackbar<span class="op">(</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;Message deleted&quot;</span><span class="op">,</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>                actionLabel <span class="op">=</span> <span class="st">&quot;Undo&quot;</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>            <span class="cf">when</span> <span class="op">(</span>result<span class="op">)</span> <span class="op">{</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>                SnackbarResult<span class="op">.</span>Dismissed <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>                    <span class="co">// nothing to do</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>                SnackbarResult<span class="op">.</span>ActionPerformed <span class="op">-&gt;</span> <span class="op">{</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>                    <span class="co">// </span><span class="al">TODO</span><span class="co"> perform undo</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">})</span> <span class="op">{</span></span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Delete&quot;</span><span class="op">)</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>    SnackbarHost<span class="op">(</span></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>        hostState <span class="op">=</span> snackbarHostState<span class="op">,</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>align<span class="op">(</span>Alignment<span class="op">.</span>BottomCenter<span class="op">),</span></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-keep-the-snackbar-permanently-on-the-screen">How to keep
the Snackbar permanently on the screen</h2>
<p>Pass <code>SnackbarDuration.Indefinite</code> into the
<em>duration</em> parameter of the
<code>snackbarHostState.showSnackbar()</code> function.</p>
<p>Depending on your use case, it might work better to use the
<code>Snackbar</code> composable directly in your layout instead of
<code>SnackbarHost</code>.</p>
<h2 id="how-to-style-your-snackbar">How to style your Snackbar</h2>
<p>The <code>SnackbarHost</code> does not provide any customization
options. However, the host uses a <code>Snackbar</code> composable. Its
default color values come from your application’s theme.</p>
<p>The <em>contentColor</em> uses the
<code>MaterialTheme.colors.surface</code>. The <em>backgroundColor</em>
uses a combination of your theme’s
<code>MaterialTheme.colors.surface</code> and
<code>MaterialTheme.colors.onSurface</code> colors. The action label
uses a combination of the <code>MaterialTheme.colors.primary</code> and
<code>MaterialTheme.colors.surface</code> color while in Light theme or
the <code>MaterialTheme.colors.primaryVariant</code> in Dark theme.</p>
<p>Alternatively you use a standard <code>Snackbar</code> with the
colors you need via the <em>snackbar</em> parameter of your
<code>SnackbarHost</code>.</p>
<h2 id="how-to-create-a-custom-snackbar">How to create a custom
Snackbar</h2>
<p>The <code>SnackbarHost</code> accepts a <em>snackbar</em> parameter
that allows you to create a custom looking layout instead of the
standard Snackbar looks. It is then up to you to use the provided
<code>SnackbarData</code> to display the message and action label
requested via the <code>snackbarHostState.showSnackbar()</code>
function:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>SnackbarHost<span class="op">(</span>hostState <span class="op">=</span> snackbarHostState<span class="op">)</span> <span class="op">{</span> snackbarData <span class="op">-&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    Snackbar<span class="op">(</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>padding<span class="op">(</span><span class="fl">10.</span>dp<span class="op">),</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>        action <span class="op">=</span> <span class="op">{</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>            snackbarData<span class="op">.</span>actionLabel<span class="op">?.</span>let <span class="op">{</span> label <span class="op">-&gt;</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>                TextButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> snackbarData<span class="op">.</span>performAction<span class="op">()</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>                    Text<span class="op">(</span>label<span class="op">)</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span>snackbarData<span class="op">.</span>message<span class="op">)</span></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-enable-swipe-to-dismiss-functionality">How to enable
swipe to dismiss functionality</h2>
<p><code>Snackbar</code> and <code>SnackbarHost</code> do not come with
swipe to dismiss functionality out of the box.</p>
<p>For this you would have to wrap your <code>Snackbar</code> in a
<code>SwipeToDismiss</code> composable that enables such functionality.
Then use the new <code>Snackbar</code> in the <em>snackbar</em>
parameter of your <code>SnackbarHost</code>:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Composable</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">SwipeToDismissSnackbar</span><span class="op">(</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">data</span><span class="op">:</span> <span class="dt">SnackbarData</span><span class="op">,</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">onDismiss</span><span class="op">:</span> <span class="op">(</span>(<span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">Unit</span><span class="op">)</span>? <span class="op">=</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    snackbar<span class="op">:</span> <span class="at">@Composable</span> <span class="op">(</span>SnackbarData<span class="op">)</span> <span class="op">-&gt;</span> <span class="kw">Unit</span> <span class="op">=</span> <span class="op">{</span> Snackbar<span class="op">(</span>it<span class="op">)</span> <span class="op">},</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">dismissState</span> <span class="op">=</span> rememberDismissState <span class="op">{</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>it <span class="op">!=</span> DismissValue<span class="op">.</span>Default<span class="op">)</span> <span class="op">{</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>            <span class="kw">data</span><span class="op">.</span>dismiss<span class="op">()</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>            onDismiss<span class="op">?.</span>invoke<span class="op">()</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">true</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>    SwipeToDismiss<span class="op">(</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>        state <span class="op">=</span> dismissState<span class="op">,</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>        directions <span class="op">=</span> setOf<span class="op">(</span>DismissDirection<span class="op">.</span>StartToEnd<span class="op">,</span> DismissDirection<span class="op">.</span>EndToStart<span class="op">),</span></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>        background <span class="op">=</span> <span class="op">{},</span></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>        dismissContent <span class="op">=</span> <span class="op">{</span> snackbar<span class="op">(</span><span class="kw">data</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="linearlayout-to-column-row">LinearLayout to Column &amp;
Row</h1>
<p>The <code>Column</code> and <code>Row</code> composables place their
content composables the one next to each other. A <code>Row</code> works
similar to a <code>LinearLayout</code> with a horizontal orientation. A
<code>Column</code> works similar to a <code>LinearLayout</code> with a
vertical orientation.</p>
<p>Both composables support similar functionality to
<code>LinearLayout</code> such as weight and gravity. They work in
similar manner. For simplicity the following snippets demonstrate how to
use a <code>Column</code>. Replacing it with a <code>Row</code> will
produce the same effect for a horizontal manner.</p>
<p>A typical <code>Column</code> works like this:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>Column <span class="op">{</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">)</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;from&quot;</span><span class="op">)</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Compose&quot;</span><span class="op">)</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-use-linearlayout-gravity">How to use LinearLayout
gravity</h2>
<p><code>Column</code> comes with a <em>horizontalAlignment</em>
(<code>Row</code> comes with a <em>verticalAlignment</em> respectively).
This parameter can be used to set the gravity of your
<code>Column</code>’s contents similar to a <code>LinearLayout</code>’s
gravity. Options such as start, center and end are available.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>Column<span class="op">(</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    horizontalAlignment <span class="op">=</span> Alignment<span class="op">.</span>CenterVertically</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">)</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;from&quot;</span><span class="op">)</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Compose&quot;</span><span class="op">)</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>If you need to change the alignment of individual composables
independently, <code>Column</code>’s scope provides an
<code>align()</code> modifier. This parameter will modify any
<em>horizontalAlignment</em> you might have set to the
<code>Column</code> itself:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>Column<span class="op">(</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    horizontalAlignment <span class="op">=</span> Alignment<span class="op">.</span>CenterVertically</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>align<span class="op">(</span>Alignment<span class="op">.</span>Bottom<span class="op">))</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;from&quot;</span><span class="op">)</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Compose&quot;</span><span class="op">)</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>There is also <code>Column</code>’s <em>verticalArrangement</em>
(<code>Row</code>’s <em>horizontalArrangement</em>) parameter for
setting the gravity for the horizontal (or vertical respectively)
axis:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>Column<span class="op">(</span>verticalArrangement <span class="op">=</span> Arrangement<span class="op">.</span>End<span class="op">)</span> <span class="op">{</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">)</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;from&quot;</span><span class="op">)</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Compose&quot;</span><span class="op">)</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-add-spacing-between-items">How to add spacing between
items</h2>
<p><code>Column</code> and <code>Row</code> support spacing out of the
box by passing one of the <code>Arrangement.spacedBy()</code> options to
the respective <em>arrangement</em> parameter.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>Row<span class="op">(</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>    horizontalArrangement <span class="op">=</span> Arrangement<span class="op">.</span>spacedBy<span class="op">(</span><span class="fl">20.</span>dp<span class="op">)</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">)</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;from&quot;</span><span class="op">)</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Compose&quot;</span><span class="op">)</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Use the <code>Spacer</code> composable if you need to have different
spacing between composables:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>Row <span class="op">{</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">)</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    Spacer<span class="op">(</span>Modifier<span class="op">.</span>width<span class="op">(</span><span class="fl">4.</span>dp<span class="op">))</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;from&quot;</span><span class="op">)</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>    Spacer<span class="op">(</span>Modifier<span class="op">.</span>width<span class="op">(</span><span class="fl">8.</span>dp<span class="op">))</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Compose&quot;</span><span class="op">)</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-apply-weight">How to apply weight</h2>
<p><code>Column</code> and <code>Row</code> provides a
<code>weight()</code> modifier. It works the same way weight in
<code>LinearLayout</code> works.</p>
<blockquote>
<p>Weight causes composables to take space in relation to one
another.</p>
</blockquote>
<p>The following snippet will cause the “Hello” to take as much space in
the row as possible:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>Row <span class="op">{</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>weight<span class="op">(</span><span class="fl">1f</span><span class="op">))</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;from&quot;</span><span class="op">)</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Compose&quot;</span><span class="op">)</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>while the following example will cause all composables to take the
same amount of space in the <code>Row</code>:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>Row <span class="op">{</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>weight<span class="op">(</span><span class="fl">0.3f</span><span class="op">))</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;from&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>weight<span class="op">(</span><span class="fl">0.3f</span><span class="op">))</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Compose&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>weight<span class="op">(</span><span class="fl">0.3f</span><span class="op">))</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-add-dividers-between-items">How to add dividers between
items</h2>
<p>Compose comes with a <code>Divider</code> composable. It can be used
to place dividers between your composables in a Column:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>Column <span class="op">{</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Hello&quot;</span><span class="op">)</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>    Divider<span class="op">()</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;from&quot;</span><span class="op">)</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    Divider<span class="op">()</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Compose&quot;</span><span class="op">)</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>The <code>Divider</code> cannot be used in a <code>Row</code> as it
draws a line horizontally. You can use the following
<code>VerticalDivider</code> in your <code>Row</code> to achieve a
similar result:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Composable</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">fun</span> <span class="fu">VerticalDivider</span><span class="op">(</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">modifier</span><span class="op">:</span> <span class="dt">Modifier</span> <span class="op">=</span> Modifier<span class="op">,</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">color</span><span class="op">:</span> <span class="dt">Color</span> <span class="op">=</span> MaterialTheme<span class="op">.</span>colors<span class="op">.</span>onSurface<span class="op">.</span>copy<span class="op">(</span>alpha = <span class="fl">0.12f</span><span class="op">),</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">thickness</span><span class="op">:</span> <span class="dt">Dp</span> <span class="op">=</span> <span class="fl">1.</span>dp<span class="op">,</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">targetThickness</span> <span class="op">=</span> <span class="cf">if</span> <span class="op">(</span>thickness <span class="op">==</span> Dp<span class="op">.</span>Hairline<span class="op">)</span> <span class="op">{</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>            <span class="op">(</span><span class="fl">1f</span> <span class="op">/</span> LocalDensity<span class="op">.</span>current<span class="op">.</span>density<span class="op">).</span>dp</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>            thickness</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>        Box<span class="op">(</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>            modifier</span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>fillMaxHeight<span class="op">()</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>width<span class="op">(</span>targetThickness<span class="op">)</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>background<span class="op">(</span>color <span class="op">=</span> color<span class="op">)</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span></code></pre></div>
<p>which you can use like this:</p>
<pre><code>@Composable
Row {
    Text(&quot;Hello&quot;)
    VerticalDivider()
    Text(&quot;from&quot;)
    VerticalDivider()
    Text(&quot;Compose&quot;)
}</code></pre>
<h1 id="framelayout-to-box">FrameLayout to Box</h1>
<p><code>Box</code> stacks its content composables over each other.
Similar to <code>FrameLayout</code> it allows you to specify the
position of each item within the <code>Box</code>. The position of the
children in the <code>Box</code> is controlled with the
<code>align()</code> modifier on the children or with the
<code>contentAlignment</code> parameter on the <code>Box</code>.</p>
<p>Box can also be used without any content. This can be helpful if you
are only interested in capturing touch events or drawing a shape using
<code>Modifiers</code>.</p>
<h2 id="how-to-set-the-gravity-of-each-item">How to set the gravity of
each item</h2>
<p>Use the <code>align()</code> modifier, available within the
<code>Box</code>’s scope:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>Box<span class="op">(</span>modifier <span class="op">=</span> Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;TopStart&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>align<span class="op">(</span>Alignment<span class="op">.</span>TopStart<span class="op">))</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Centered&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>align<span class="op">(</span>Alignment<span class="op">.</span>Center<span class="op">))</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;BottomEnd&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>align<span class="op">(</span>Alignment<span class="op">.</span>BottomEnd<span class="op">))</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-set-gravity-of-all-items">How to set gravity of all
items</h2>
<p>Use the <em>contentAlignment</em> parameter to apply the same gravity
to all contained composables. Using the <code>align()</code> modifier
will override this option for the specific composable:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>Box<span class="op">(</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>    contentAlignment <span class="op">=</span> Alignment<span class="op">.</span>Center<span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>fillMaxSize<span class="op">()</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Centered1&quot;</span><span class="op">)</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Centered2&quot;</span><span class="op">)</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;BottomEnd&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>align<span class="op">(</span>Alignment<span class="op">.</span>BottomEnd<span class="op">))</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-use-box-as-a-decoration-element">How to use Box as a
decoration element</h2>
<p>Use the variant of the <code>Box</code> function without content.
Provide any visual customizations you need via the modifier.</p>
<p>The following snippet uses Box to imitate the record button on a
label:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>Row <span class="op">{</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>    Box<span class="op">(</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>        Modifier</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>clip<span class="op">(</span>CircleShape<span class="op">)</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>size<span class="op">(</span><span class="fl">20.</span>dp<span class="op">)</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>background<span class="op">(</span>Color<span class="op">.</span>Red<span class="op">)</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>    Spacer<span class="op">(</span>Modifier<span class="op">.</span>width<span class="op">(</span><span class="fl">8.</span>dp<span class="op">))</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Recording...&quot;</span><span class="op">)</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="recyclerview-to-lazylists">RecyclerView to LazyLists</h1>
<p>Compose makes it simple to create horizontal and vertical scrolling
lists without the need for Adapters and Viewholders. There are two
variations of scrolling lists <code>LazyColumn</code> (vertical) and
<code>LazyRow</code> (horizontal).</p>
<p>Instead of creating view holders, each item of the list needs to be
wrapped with a <code>item {}</code> function. The <code>item {}</code>
contains the composable for each line:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>LazyColumn <span class="op">{</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;First item&quot;</span><span class="op">)</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Second item&quot;</span><span class="op">)</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Third item&quot;</span><span class="op">)</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ... more items</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Given that this is all pure Kotlin code, you have the flexibility of
using Kotlin’s standard library. This can simplify iterating lists and
performing any UI specific operations such as filtering and providing
different composables for different item types.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">listOfItems</span> <span class="op">=</span> <span class="op">(</span><span class="fl">1..100</span><span class="op">).</span>toList<span class="op">()</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>LazyColumn <span class="op">{</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    listOfItems<span class="op">.</span>forEach <span class="op">{</span> number <span class="op">-&gt;</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>        item <span class="op">{</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span>number<span class="op">.</span>toString<span class="op">())</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>there is also the <code>.items()</code> extension function that
simplifies the above snippet:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">listOfItems</span> <span class="op">=</span> <span class="op">(</span><span class="fl">1..100</span><span class="op">).</span>toList<span class="op">()</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>LazyColumn <span class="op">{</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span>listOfItems<span class="op">)</span> <span class="op">{</span> number <span class="op">-&gt;</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span>number<span class="op">.</span>toString<span class="op">())</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div class="warning">
<p>Many developers have experienced slow performance while using
LazyLists in debug builds. The performance is greatly improved in
production builds.</p>
</div>
<h2 id="how-to-add-header-and-footers">How to add header and
footers</h2>
<p>There is no concept of ‘headers’ or ‘footers’ in Lazy Lists. You can
use <code>item {}</code> using the header and footer composables in the
start end of your list:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">listOfItems</span> <span class="op">=</span> <span class="op">(</span><span class="fl">1..100</span><span class="op">).</span>toList<span class="op">()</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>LazyColumn <span class="op">{</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>        Header<span class="op">()</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span>listOfItems<span class="op">)</span> <span class="op">{</span> number <span class="op">-&gt;</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span>number<span class="op">.</span>toString<span class="op">())</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>        Footer<span class="op">()</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-add-sticky-headers">How to add sticky headers</h2>
<p>Sticky headers are supported out of the box, by passing your
composable into the <code>stickyheader {}</code> function.</p>
<p>You can have multiple sticky headers in a single list. Each sticky
header will remain on the same position on the screen until an other
sticky header pushes it out of the screen.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>LazyColumn <span class="op">{</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    stickyheader <span class="op">{</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Favorites&quot;</span><span class="op">)</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Red&quot;</span><span class="op">)</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>    stickyheader <span class="op">{</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Colors&quot;</span><span class="op">)</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Yellow&quot;</span><span class="op">)</span></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span></span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Fuchsia&quot;</span><span class="op">)</span></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">...</span></span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-animate-addingremoving-items-diffutils">How to animate
adding/removing items (DiffUtils)</h2>
<p>There is currently no built in way to animate diffs in Lazy lists.
However, you can use David Liu implementation to achieve this effect.
You can find the implementation <a href="#david-liu&#39;s-lazyColumnItemDiffAnimations">in the
appendix</a>.</p>
<p>Example of usage:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>LazyColumn<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>    animatedItemsIndexed<span class="op">(</span>animationState<span class="op">,</span> key <span class="op">=</span> <span class="op">{</span> it <span class="op">})</span> <span class="op">{</span> _<span class="op">,</span> item <span class="op">-&gt;</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Item </span><span class="ss">$item</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-animate-position-changes">How to animate position
changes</h2>
<p>Use the <code>Modifier.animateItemPlacement()</code> to animate any
order change of your items:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">list</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span>listOf<span class="op">(</span><span class="st">&quot;A&quot;</span><span class="op">,</span> <span class="st">&quot;B&quot;</span><span class="op">,</span> <span class="st">&quot;C&quot;</span><span class="op">))</span> <span class="op">}</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>LazyColumn <span class="op">{</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>        Button<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> list <span class="op">=</span> list<span class="op">.</span>shuffled<span class="op">()</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span><span class="st">&quot;Shuffle&quot;</span><span class="op">)</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span>list<span class="op">,</span> key <span class="op">=</span> <span class="op">{</span> it <span class="op">})</span> <span class="op">{</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Item </span><span class="ss">$it</span><span class="st">&quot;</span><span class="op">,</span> Modifier<span class="op">.</span>animateItemPlacement<span class="op">())</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>You can customize the animation by providing an
<code>AnimationSpec</code>as a parameter to the modifier, such as
<code>tween()</code> or <code>spring()</code>.</p>
<h2 id="how-to-observe-scrolling-onscrollchangedlistener">How to observe
scrolling (OnScrollChangedListener)</h2>
<p>Use <code>rememberLazyListState()</code> to create an instance of
<code>LazyListState</code>. Then pass it to the <em>state</em> parameter
of your lazy list. The state exposes properties to help you out with
your use case such as <code>firstVisibleItemIndex</code>,
<code>firstVisibleItemScrollOffset</code> and
<code>isScrollInProgress</code>.</p>
<p>The following snippet displays whether the list is currently being
scrolled:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a> <span class="kw">val</span> <span class="va">state</span> <span class="op">=</span> rememberScrollState<span class="op">()</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>LazyColumn<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">(),</span> state <span class="op">=</span> state<span class="op">)</span> <span class="op">{</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    stickyHeader <span class="op">{</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Scrolling = </span><span class="ss">${</span>state<span class="op">.</span>isScrollInProgress<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span>items<span class="op">)</span> <span class="op">{</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span>it<span class="op">.</span>toString<span class="op">())</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div class="note">
<p>If you need to perform an action once the scrolling is over, you can
use a <code>DisposedEffect</code>:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>state<span class="op">.</span>isScrollInProgress<span class="op">)</span> <span class="op">{</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>    DisposableEffect<span class="op">(</span><span class="kw">Unit</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>        onDispose <span class="op">{</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>            <span class="co">// </span><span class="al">TODO</span><span class="co"> handle scrolling done</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
<h2 id="how-to-scroll-to-item-programmatically">How to scroll to item
programmatically</h2>
<p>Use <code>LazyListState</code>’s <code>animateScrollToItem()</code>
(or <code>scrollToItem()</code> for instant scroll) to scroll to the
index of the item you need.</p>
<p><code>scrollBy()</code> can be used for scrolling a specific amount
of pixels.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">state</span> <span class="op">=</span> rememberLazyListState<span class="op">()</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">items</span> <span class="op">=</span> <span class="op">(</span><span class="fl">1..2000</span><span class="op">).</span>toList<span class="op">()</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">scope</span> <span class="op">=</span> rememberCoroutineScope<span class="op">()</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>LazyColumn<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">(),</span> state <span class="op">=</span> state<span class="op">)</span> <span class="op">{</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span>items<span class="op">)</span> <span class="op">{</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span>it<span class="op">.</span>toString<span class="op">())</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>FloatingActionButton<span class="op">(</span></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>    onClick <span class="op">=</span> <span class="op">{</span> scope<span class="op">.</span>launch <span class="op">{</span> state<span class="op">.</span>animateScrollToItem<span class="op">(</span><span class="dv">0</span><span class="op">)</span> <span class="op">}</span> <span class="op">}</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>    Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>KeyboardArrowUp<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-swipe-to-dismiss">How to swipe to dismiss</h2>
<p>Lazy Lists do not support this functionality out of the box. You’d
need to wrap your list items in a <code>SwipeToDismiss</code>
composable. Make sure to remove the respective item from your list, as
soon as the item is swiped to dismissed:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Composable</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">SwipeToDismissItem</span><span class="op">(</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">onDismiss</span><span class="op">:</span> <span class="op">(</span>(<span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">Unit</span><span class="op">)</span>,</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">item</span><span class="op">:</span> @<span class="dt">Composable</span> <span class="op">()</span> -&gt; <span class="fu">Unit</span></span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">{</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">dismissState</span> <span class="op">=</span> rememberDismissState <span class="op">{</span></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>it <span class="op">!=</span> DismissValue<span class="op">.</span>Default<span class="op">)</span> <span class="op">{</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>            onDismiss<span class="op">.</span>invoke<span class="op">()</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">true</span></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a>    SwipeToDismiss<span class="op">(</span></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>        state <span class="op">=</span> dismissState<span class="op">,</span></span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>        directions <span class="op">=</span> setOf<span class="op">(</span>DismissDirection<span class="op">.</span>StartToEnd<span class="op">,</span> </span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>                        DismissDirection<span class="op">.</span>EndToStart</span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">),</span></span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a>        background <span class="op">=</span> <span class="op">{},</span></span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a>        dismissContent <span class="op">=</span> <span class="op">{</span> item<span class="op">()</span> <span class="op">}</span></span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>and then use it like this:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">var</span> <span class="va">items</span> <span class="kw">by</span> remember <span class="op">{</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    mutableStateOf<span class="op">(</span>listOf<span class="op">(</span>Color<span class="op">.</span>Red<span class="op">,</span> Color<span class="op">.</span>Blue<span class="op">,</span> Color<span class="op">.</span>Yellow<span class="op">,</span> Color<span class="op">.</span>Green<span class="op">))</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>LazyColumn<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span>items<span class="op">,</span> key <span class="op">=</span> <span class="op">{</span> it<span class="op">.</span>toString<span class="op">()</span> <span class="op">})</span> <span class="op">{</span> item <span class="op">-&gt;</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>        SwipeToDismissItem<span class="op">(</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>            onDismiss <span class="op">=</span> <span class="op">{</span> items <span class="op">=</span> items <span class="op">-</span> item <span class="op">}</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span> <span class="op">{</span></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>            Box<span class="op">(</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>                Modifier</span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>background<span class="op">(</span>item<span class="op">)</span></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>height<span class="op">(</span><span class="fl">56.</span>dp<span class="op">)</span></span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span></span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-implement-snap-in-center">How to implement snap in
center</h2>
<p>Snapping is not supported out of the box. The following example uses
<a href="https://chrisbanes.github.io/snapper">Chris Bane’s Snapper
library</a> to achieve the same result:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">lazyListState</span> <span class="op">=</span> rememberLazyListState<span class="op">()</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">items</span> <span class="op">=</span> <span class="op">(</span><span class="fl">1..5</span><span class="op">).</span>toList<span class="op">()</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>LazyRow<span class="op">(</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>    state <span class="op">=</span> lazyListState<span class="op">,</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>    flingBehavior <span class="op">=</span> rememberSnapperFlingBehavior<span class="op">(</span>lazyListState<span class="op">),</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span>items<span class="op">)</span> <span class="op">{</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>        Box<span class="op">(</span></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>            Modifier</span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>fillMaxHeight<span class="op">()</span></span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>width<span class="op">(</span><span class="fl">360.</span>dp<span class="op">)</span></span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>background<span class="op">(</span>Color<span class="op">.</span>Gray<span class="op">)</span></span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>padding<span class="op">(</span><span class="fl">10.</span>dp<span class="op">)</span></span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>background<span class="op">(</span>Color<span class="op">.</span>White<span class="op">)</span></span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-implement-pagination">How to implement pagination</h2>
<p>There is no built-in support for pagination. Use the <a href="https://developer.android.com/topic/libraries/architecture/paging/v3-overview">Androidx
Paging library</a> <code>paging-compose</code> instead. The following
sample was slightly modified from the official paging-compose
example:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">myBackend</span> <span class="op">=</span> remember <span class="op">{</span> MyBackend<span class="op">()</span> <span class="op">}</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">pager</span> <span class="op">=</span> remember <span class="op">{</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>    Pager<span class="op">(</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>        PagingConfig<span class="op">(</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>            pageSize <span class="op">=</span> myBackend<span class="op">.</span>batchSize<span class="op">,</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>            enablePlaceholders <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>            maxSize <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span> myBackend<span class="op">.</span>getAllData<span class="op">()</span> <span class="op">}</span></span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">lazyPagingItems</span> <span class="op">=</span> pager<span class="op">.</span>flow<span class="op">.</span>collectAsLazyPagingItems<span class="op">()</span></span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a>LazyColumn <span class="op">{</span></span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>lazyPagingItems<span class="op">.</span>loadState<span class="op">.</span>refresh <span class="op">==</span> LoadState<span class="op">.</span>Loading<span class="op">)</span> <span class="op">{</span></span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a>        item <span class="op">{</span></span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span></span>
<span id="cb83-19"><a href="#cb83-19" aria-hidden="true" tabindex="-1"></a>                text <span class="op">=</span> <span class="st">&quot;Waiting for items to load from the backend&quot;</span><span class="op">,</span></span>
<span id="cb83-20"><a href="#cb83-20" aria-hidden="true" tabindex="-1"></a>                modifier <span class="op">=</span> Modifier</span>
<span id="cb83-21"><a href="#cb83-21" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb83-22"><a href="#cb83-22" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>wrapContentWidth<span class="op">(</span>Alignment<span class="op">.</span>CenterHorizontally<span class="op">)</span></span>
<span id="cb83-23"><a href="#cb83-23" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span></span>
<span id="cb83-24"><a href="#cb83-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb83-25"><a href="#cb83-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb83-26"><a href="#cb83-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-27"><a href="#cb83-27" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span>lazyPagingItems<span class="op">)</span> <span class="op">{</span> item <span class="op">-&gt;</span></span>
<span id="cb83-28"><a href="#cb83-28" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Item: </span><span class="ss">$item</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb83-29"><a href="#cb83-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb83-30"><a href="#cb83-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-31"><a href="#cb83-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>lazyPagingItems<span class="op">.</span>loadState<span class="op">.</span>append <span class="op">==</span> LoadState<span class="op">.</span>Loading<span class="op">)</span> <span class="op">{</span></span>
<span id="cb83-32"><a href="#cb83-32" aria-hidden="true" tabindex="-1"></a>        item <span class="op">{</span></span>
<span id="cb83-33"><a href="#cb83-33" aria-hidden="true" tabindex="-1"></a>            CircularProgressIndicator<span class="op">(</span></span>
<span id="cb83-34"><a href="#cb83-34" aria-hidden="true" tabindex="-1"></a>                modifier <span class="op">=</span> Modifier</span>
<span id="cb83-35"><a href="#cb83-35" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb83-36"><a href="#cb83-36" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>wrapContentWidth<span class="op">(</span>Alignment<span class="op">.</span>CenterHorizontally<span class="op">)</span></span>
<span id="cb83-37"><a href="#cb83-37" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span></span>
<span id="cb83-38"><a href="#cb83-38" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb83-39"><a href="#cb83-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb83-40"><a href="#cb83-40" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="grids-in-compose">Grids in Compose</h1>
<p><code>LazyVerticalGrid</code> is the direct replacement of
<code>GridView</code> (or <code>RecyclerView</code> with a
<code>GridLayoutManager</code>). There is a horizontal version of this
composable currently in beta.</p>
<p>Like <a href="#recyclerView-to-lazylists">Lazy Lists</a> there is no
need to create adapters or view holders. Instead, wrap each list item
with an <code>item {}</code> function. The <code>item {}</code> contains
the composable for each line.</p>
<h2 id="how-to-create-a-grid-with-a-specific-number-of-items-per-row">How to
create a grid with a specific number of items per row</h2>
<p>Use <code>Fixed()</code> with the number of items per row into the
<em>cell</em> parameter.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>LazyVerticalGrid<span class="op">(</span>Fixed<span class="op">(</span><span class="dv">3</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span> Text<span class="op">(</span><span class="st">&quot;Item 1&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span> Text<span class="op">(</span><span class="st">&quot;Item 2&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span> Text<span class="op">(</span><span class="st">&quot;Item 3&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-create-a-grid-with-a-dynamic-number-of-items-per-row">How
to create a grid with a dynamic number of items per row</h2>
<p>Pass <code>Adaptive()</code> with the minimum allowed width for each
item into the <em>cell</em> parameter.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>LazyVerticalGrid<span class="op">(</span>Adaptive<span class="op">(</span><span class="fl">260.</span>dp<span class="op">))</span> <span class="op">{</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span> Text<span class="op">(</span><span class="st">&quot;Item 1&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span> Text<span class="op">(</span><span class="st">&quot;Item 2&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>    item <span class="op">{</span> Text<span class="op">(</span><span class="st">&quot;Item 3&quot;</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-dynamically-change-the-number-of-spans-for-each-item">How
to dynamically change the number of spans for each item</h2>
<p>Use the <em>span</em> property of <code>items()</code> to specify the
number of spans each item will take.</p>
<p>The following sample will make each fourth item to take two spaces
instead of one:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>LazyVerticalGrid<span class="op">(</span>Fixed<span class="op">(</span><span class="dv">3</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span><span class="dv">100</span><span class="op">,</span> span <span class="op">=</span> <span class="op">{</span> item <span class="op">-&gt;</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>item <span class="op">%</span> <span class="dv">4</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>            GridItemSpan<span class="op">(</span><span class="dv">2</span><span class="op">)</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>            GridItemSpan<span class="op">(</span><span class="dv">1</span><span class="op">)</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">})</span> <span class="op">{</span></span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>        Box<span class="op">(</span></span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>            Modifier</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>border<span class="op">(</span><span class="fl">1.</span>dp<span class="op">,</span> Color<span class="op">.</span>Black<span class="op">)</span></span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>height<span class="op">(</span><span class="fl">58.</span>dp<span class="op">)</span></span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="viewpager-in-compose">ViewPager in Compose</h1>
<p>Compose does not provide a <code>ViewPager</code> alternative.
Luckily, Accompanist<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> comes with a
<code>HorizontalPager</code> and <code>VerticalPager</code> composables
that you can use until they become part of the official Compose
libraries.</p>
<p>Example of usage:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>HorizontalPager<span class="op">(</span>count <span class="op">=</span> <span class="dv">10</span><span class="op">)</span> <span class="op">{</span> pageIndex <span class="op">-&gt;</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> <span class="st">&quot;Page: </span><span class="ss">$pageIndex</span><span class="st">&quot;</span><span class="op">,</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>fillMaxSize<span class="op">()</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-add-a-selected-page-indicator">How to add a ‘selected
page’ indicator</h2>
<p>The Pager library comes with an optional
<code>pager-indicators</code> package which includes the
<code>HorizontalPagerIndicator</code> and
<code>VerticalPagerIndicator</code> composables.</p>
<p>As long as the Indicator composables share the same
<code>PagerState</code> as the Pager, they will reflect which page is
currently visible:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">pageCount</span> <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">state</span> <span class="op">=</span> rememberPagerState<span class="op">()</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>Box<span class="op">(</span>modifier <span class="op">=</span> Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>    HorizontalPager<span class="op">(</span>count <span class="op">=</span> pageCount<span class="op">,</span> state <span class="op">=</span> state<span class="op">)</span> <span class="op">{</span> pageIndex <span class="op">-&gt;</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Page </span><span class="ss">$pageIndex</span><span class="st">&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span></span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>    HorizontalPagerIndicator<span class="op">(</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>        pagerState <span class="op">=</span> state<span class="op">,</span></span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier</span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>align<span class="op">(</span>Alignment<span class="op">.</span>BottomCenter<span class="op">)</span></span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>padding<span class="op">(</span><span class="fl">20.</span>dp<span class="op">)</span></span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-jump-to-a-specific-page">How to jump to a specific
page</h2>
<p>Call <code>animateScrollToPage()</code> on the Pager’s
<code>PagerState</code> with the index of the page you need. Calling
<code>scrollToPage()</code> will jump to the specified page
instantly.</p>
<p>The following example showcases how to jump to the previous and next
page:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">pageCount</span> <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">state</span> <span class="op">=</span> rememberPagerState<span class="op">()</span></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">scope</span> <span class="op">=</span> rememberCoroutineScope<span class="op">()</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>HorizontalPager<span class="op">(</span>count <span class="op">=</span> pageCount<span class="op">,</span> state <span class="op">=</span> state<span class="op">)</span> <span class="op">{</span> index <span class="op">-&gt;</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>    Row<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">(),</span> </span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>            horizontalArrangement <span class="op">=</span> Arrangement<span class="op">.</span>Center</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>        Button<span class="op">(</span></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>            enabled <span class="op">=</span> index <span class="op">!=</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>            onClick <span class="op">=</span> <span class="op">{</span></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>                scope<span class="op">.</span>launch <span class="op">{</span></span>
<span id="cb89-13"><a href="#cb89-13" aria-hidden="true" tabindex="-1"></a>                    state<span class="op">.</span>animateScrollToPage<span class="op">(</span>index <span class="op">-</span> <span class="dv">1</span><span class="op">)</span></span>
<span id="cb89-14"><a href="#cb89-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb89-15"><a href="#cb89-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">})</span> <span class="op">{</span></span>
<span id="cb89-16"><a href="#cb89-16" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span><span class="st">&quot;Previous&quot;</span><span class="op">)</span></span>
<span id="cb89-17"><a href="#cb89-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb89-18"><a href="#cb89-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb89-19"><a href="#cb89-19" aria-hidden="true" tabindex="-1"></a>        Button<span class="op">(</span></span>
<span id="cb89-20"><a href="#cb89-20" aria-hidden="true" tabindex="-1"></a>            enabled <span class="op">=</span> index <span class="op">&lt;</span> pageCount <span class="op">-</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb89-21"><a href="#cb89-21" aria-hidden="true" tabindex="-1"></a>            onClick <span class="op">=</span> <span class="op">{</span></span>
<span id="cb89-22"><a href="#cb89-22" aria-hidden="true" tabindex="-1"></a>                scope<span class="op">.</span>launch <span class="op">{</span></span>
<span id="cb89-23"><a href="#cb89-23" aria-hidden="true" tabindex="-1"></a>                    state<span class="op">.</span>animateScrollToPage<span class="op">(</span>index <span class="op">+</span> <span class="dv">1</span><span class="op">)</span></span>
<span id="cb89-24"><a href="#cb89-24" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb89-25"><a href="#cb89-25" aria-hidden="true" tabindex="-1"></a>            <span class="op">})</span> <span class="op">{</span></span>
<span id="cb89-26"><a href="#cb89-26" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span><span class="st">&quot;Next&quot;</span><span class="op">)</span></span>
<span id="cb89-27"><a href="#cb89-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb89-28"><a href="#cb89-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb89-29"><a href="#cb89-29" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-listen-to-page-changed-events-onpagechangelistener">How
to listen to page changed events (OnPageChangeListener)</h2>
<p>The <code>PagerState</code> exposes various properties that lets you
keep track of the Pager.</p>
<p>If you need a callback for when the current page changes, use a
<code>LaunchedEffect</code> in combination of the state’s current page
as the key. The <code>LaunchedEffect</code> scope will run every time
the provided key (in this case current page) changes:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">pagerState</span> <span class="op">=</span> rememberPagerState<span class="op">()</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>LaunchedEffect<span class="op">(</span>pagerState<span class="op">.</span>currentPage<span class="op">)</span> <span class="op">{</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>    println<span class="op">(</span><span class="st">&quot;Page is now </span><span class="ss">${</span>pagerState<span class="op">.</span>currentPage<span class="ss">}</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>HorizontalPager<span class="op">(</span>count <span class="op">=</span> <span class="dv">5</span><span class="op">,</span> state <span class="op">=</span> pagerState<span class="op">)</span> <span class="op">{</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>    Box<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="constraintlayout-in-compose">ConstraintLayout in Compose</h1>
<p>In the View world, <code>ConstraintLayout</code> is the recommended
way of building layouts. It has the advantage of creating flat hierarchy
which helps with the performance of the layout compared to traditional
ways of building UIs.</p>
<p>Compose on the other hand does not come with this limitation.
<code>ConstraintLayout</code> is used as an alternative way of defining
layouts. It becomes useful when the layout is fairly complex and nested
<code>Row</code>s and <code>Column</code>s make the code harder to
read.</p>
<p><code>ConstraintLayout</code> places each composable according to the
constraints you set to it. Use the <code>createRefs()</code> to define
the set of references you will use in your layout. Then in each
composable, use <code>Modifier.constrainAs()</code> to link each
composable to the respective reference and apply the constraints you
need:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>ConstraintLayout<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> (<span class="va">icon</span><span class="op">,</span> text<span class="op">)</span> <span class="op">=</span> createRefs<span class="op">()</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>    Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>Share<span class="op">,</span> contentDescription <span class="op">=</span> <span class="st">&quot;Share&quot;</span><span class="op">,</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>icon<span class="op">)</span> <span class="op">{</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>            top<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>top<span class="op">)</span></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>            bottom<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>bottom<span class="op">)</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>            start<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>start<span class="op">,</span> margin <span class="op">=</span> <span class="fl">16.</span>dp<span class="op">)</span></span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Share&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>text<span class="op">)</span> <span class="op">{</span></span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>        top<span class="op">.</span>linkTo<span class="op">(</span>icon<span class="op">.</span>top<span class="op">)</span></span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>        bottom<span class="op">.</span>linkTo<span class="op">(</span>icon<span class="op">.</span>bottom<span class="op">)</span></span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>        start<span class="op">.</span>linkTo<span class="op">(</span>icon<span class="op">.</span>end<span class="op">,</span> margin <span class="op">=</span> <span class="fl">20.</span>dp<span class="op">)</span></span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">})</span></span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<blockquote>
<p>Note that ConstraintLayout is part of a different dependency than the
original ConstraintLayout. <a href="https://developer.android.com/jetpack/compose/layouts/constraintlayout">Check
the official documentation</a> on how to include it in your project</p>
</blockquote>
<h2 id="how-to-apply-margingone">How to apply marginGone?</h2>
<p>You can pass the <em>marginGone</em> margin at the point of
specifying your constraints, via the <code>linkTo()</code> function.</p>
<p>For the <em>marginGone</em> to take effect, the <em>visibility</em>
of the composable needs to be <code>Visibility.Gone</code>:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>ConstraintLayout<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> (<span class="va">icon</span><span class="op">,</span> text<span class="op">)</span> <span class="op">=</span> createRefs<span class="op">()</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>    Icon<span class="op">(</span>Icons<span class="op">.</span>Rounded<span class="op">.</span>Share<span class="op">,</span> contentDescription <span class="op">=</span> <span class="st">&quot;Share&quot;</span><span class="op">,</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>icon<span class="op">)</span> <span class="op">{</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>            visibility <span class="op">=</span> Visibility<span class="op">.</span>Gone <span class="co">// will cause goneMargin to be applied</span></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>    Text<span class="op">(</span><span class="st">&quot;Share&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>text<span class="op">)</span> <span class="op">{</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>        start<span class="op">.</span>linkTo<span class="op">(</span></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>            icon<span class="op">.</span>end<span class="op">,</span> </span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>            margin <span class="op">=</span> <span class="fl">20.</span>dp<span class="op">,</span></span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>            goneMargin <span class="op">=</span> <span class="fl">70.</span>dp</span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">})</span></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-change-constraints-dynamically">How to change constraints
dynamically?</h2>
<p>Use the variant of the <code>ConstraintLayout</code> composable that
accepts <code>ConstraintSet</code> as an argument. Within your
<code>ConstraintSet</code> define a <em>ref</em> for each composable and
apply the constraints according to your needs:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Composable</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">constraints</span><span class="op">(</span><span class="va">margins</span><span class="op">:</span> <span class="dt">Dp</span><span class="op">):</span> <span class="dt">ConstraintSet</span> <span class="op">{</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> ConstraintSet <span class="op">{</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">icon</span> <span class="op">=</span> createRefFor<span class="op">(</span><span class="st">&quot;icon&quot;</span><span class="op">)</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">text</span> <span class="op">=</span> createRefFor<span class="op">(</span><span class="st">&quot;text&quot;</span><span class="op">)</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>        constrain<span class="op">(</span>icon<span class="op">)</span> <span class="op">{</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>            top<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>top<span class="op">)</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>            bottom<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>bottom<span class="op">)</span></span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>            start<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>start<span class="op">,</span> margin <span class="op">=</span> margins<span class="op">)</span></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>        constrain<span class="op">(</span>text<span class="op">)</span> <span class="op">{</span></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>            top<span class="op">.</span>linkTo<span class="op">(</span>icon<span class="op">.</span>top<span class="op">)</span></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>            bottom<span class="op">.</span>linkTo<span class="op">(</span>icon<span class="op">.</span>bottom<span class="op">)</span></span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>            start<span class="op">.</span>linkTo<span class="op">(</span>icon<span class="op">.</span>end<span class="op">,</span> margin <span class="op">=</span> margins<span class="op">)</span></span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>afterwards, apply the <code>ConstraintSet</code> to your
<code>ConstraintLayout</code> and link the ids of your refs:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>BoxWithConstraints <span class="op">{</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">constraints</span> <span class="op">=</span> <span class="cf">if</span> <span class="op">(</span>minWidth <span class="op">&lt;</span> <span class="fl">600.</span>dp<span class="op">)</span> <span class="op">{</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>        <span class="co">// if in portrait</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>        constraints<span class="op">(</span><span class="fl">20.</span>dp<span class="op">)</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">// if in landscape</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>        constraints<span class="op">(</span><span class="fl">30.</span>dp<span class="op">)</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>    ConstraintLayout<span class="op">(</span>constraints<span class="op">,</span> Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>        Icon<span class="op">(</span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>            Icons<span class="op">.</span>Rounded<span class="op">.</span>Share<span class="op">,</span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>            contentDescription <span class="op">=</span> <span class="st">&quot;Share&quot;</span><span class="op">,</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>            modifier <span class="op">=</span> Modifier<span class="op">.</span>layoutId<span class="op">(</span><span class="st">&quot;icon&quot;</span><span class="op">)</span></span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Share&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>layoutId<span class="op">(</span><span class="st">&quot;text&quot;</span><span class="op">))</span></span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-use-guidelines">How to use guidelines</h2>
<p>Use the <code>createGuidelineFromXYZ()</code> functions to create an
invisible guideline anchored to the side of the layout you need. You can
then specify it’s offset in <em>dp</em> or percentage of the screen.
Make sure to update the <code>width</code> and <code>height</code>
property within the <code>constrainAs()</code> modifier, if you need the
size of the composable to be affected by the constraints:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>ConstraintLayout<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">card</span> <span class="op">=</span> createRef<span class="op">()</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">guidelineStart</span> <span class="op">=</span> createGuidelineFromStart<span class="op">(</span><span class="fl">0.15f</span><span class="op">)</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">guidelineEnd</span> <span class="op">=</span> createGuidelineFromEnd<span class="op">(</span><span class="fl">0.15f</span><span class="op">)</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>    Card<span class="op">(</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>card<span class="op">)</span> <span class="op">{</span></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a>            top<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>top<span class="op">,</span> <span class="fl">20.</span>dp<span class="op">)</span></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a>            start<span class="op">.</span>linkTo<span class="op">(</span>guidelineStart<span class="op">)</span></span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a>            end<span class="op">.</span>linkTo<span class="op">(</span>guidelineEnd<span class="op">)</span></span>
<span id="cb95-12"><a href="#cb95-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-13"><a href="#cb95-13" aria-hidden="true" tabindex="-1"></a>            width <span class="op">=</span> Dimension<span class="op">.</span>fillToConstraints</span>
<span id="cb95-14"><a href="#cb95-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb95-15"><a href="#cb95-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb95-16"><a href="#cb95-16" aria-hidden="true" tabindex="-1"></a>        Box<span class="op">(</span>Modifier<span class="op">.</span>padding<span class="op">(</span><span class="fl">20.</span>dp<span class="op">))</span> <span class="op">{</span></span>
<span id="cb95-17"><a href="#cb95-17" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span><span class="st">&quot;Card that is bound to guidelines&quot;</span><span class="op">)</span></span>
<span id="cb95-18"><a href="#cb95-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb95-19"><a href="#cb95-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb95-20"><a href="#cb95-20" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-apply-bias">How to apply bias</h2>
<p>Use the <code>linkTo()</code> function in the
<code>constraintAs()</code> modifier and provide the bias you need:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>ConstraintLayout<span class="op">(</span>Modifier<span class="op">.</span>fillMaxWidth<span class="op">())</span> <span class="op">{</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> (<span class="va">button1</span><span class="op">,</span> button2<span class="op">)</span> <span class="op">=</span> createRefs<span class="op">()</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>    FloatingActionButton<span class="op">(</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>        onClick <span class="op">=</span> <span class="op">{</span> <span class="op">},</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>button1<span class="op">)</span> <span class="op">{</span></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>            top<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>top<span class="op">,</span> margin <span class="op">=</span> <span class="fl">16.</span>dp<span class="op">)</span></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>            start<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>start<span class="op">,</span> margin <span class="op">=</span> <span class="fl">16.</span>dp<span class="op">)</span></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a>        Icon<span class="op">(</span>Icons<span class="op">.</span>Default<span class="op">.</span>Face<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>    FloatingActionButton<span class="op">(</span></span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>        onClick <span class="op">=</span> <span class="op">{</span> <span class="op">},</span></span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>button2<span class="op">)</span> <span class="op">{</span></span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a>            top<span class="op">.</span>linkTo<span class="op">(</span>parent<span class="op">.</span>top<span class="op">,</span> margin <span class="op">=</span> <span class="fl">16.</span>dp<span class="op">)</span></span>
<span id="cb96-18"><a href="#cb96-18" aria-hidden="true" tabindex="-1"></a>            linkTo<span class="op">(</span></span>
<span id="cb96-19"><a href="#cb96-19" aria-hidden="true" tabindex="-1"></a>                end <span class="op">=</span> parent<span class="op">.</span>end<span class="op">,</span></span>
<span id="cb96-20"><a href="#cb96-20" aria-hidden="true" tabindex="-1"></a>                start <span class="op">=</span> button1<span class="op">.</span>end<span class="op">,</span></span>
<span id="cb96-21"><a href="#cb96-21" aria-hidden="true" tabindex="-1"></a>                endMargin <span class="op">=</span> <span class="fl">16.</span>dp<span class="op">,</span></span>
<span id="cb96-22"><a href="#cb96-22" aria-hidden="true" tabindex="-1"></a>                bias <span class="op">=</span> <span class="fl">1f</span></span>
<span id="cb96-23"><a href="#cb96-23" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span></span>
<span id="cb96-24"><a href="#cb96-24" aria-hidden="true" tabindex="-1"></a>            width <span class="op">=</span> Dimension<span class="op">.</span>preferredWrapContent</span>
<span id="cb96-25"><a href="#cb96-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb96-26"><a href="#cb96-26" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb96-27"><a href="#cb96-27" aria-hidden="true" tabindex="-1"></a>        Icon<span class="op">(</span>Icons<span class="op">.</span>Default<span class="op">.</span>Favorite<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb96-28"><a href="#cb96-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb96-29"><a href="#cb96-29" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-create-chains">How to create chains</h2>
<p>Use the <code>createHorizontalChain()</code> function to create a
chain horizontally or vertically. The <em>chainStyle</em> parameter can
be used to make the chain <code>Spread</code>,
<code>SpreadInside</code>, or <code>Packed</code>:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>ConstraintLayout<span class="op">(</span>Modifier<span class="op">.</span>fillMaxWidth<span class="op">())</span> <span class="op">{</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> (<span class="va">button1</span><span class="op">,</span> button2<span class="op">,</span> button3<span class="op">,</span> button4<span class="op">)</span> <span class="op">=</span> createRefs<span class="op">()</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>    FloatingActionButton<span class="op">(</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>        onClick <span class="op">=</span> <span class="op">{</span> <span class="op">},</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>button1<span class="op">)</span> <span class="op">{}</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>        Icon<span class="op">(</span>Icons<span class="op">.</span>Default<span class="op">.</span>Face<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>    FloatingActionButton<span class="op">(</span></span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>        onClick <span class="op">=</span> <span class="op">{</span> <span class="op">},</span></span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>button2<span class="op">)</span> <span class="op">{}</span></span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>        Icon<span class="op">(</span>Icons<span class="op">.</span>Default<span class="op">.</span>Favorite<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a>    FloatingActionButton<span class="op">(</span></span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a>        onClick <span class="op">=</span> <span class="op">{</span> <span class="op">},</span></span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>constrainAs<span class="op">(</span>button3<span class="op">)</span> <span class="op">{}</span></span>
<span id="cb97-21"><a href="#cb97-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a>        Icon<span class="op">(</span>Icons<span class="op">.</span>Default<span class="op">.</span>ShoppingCart<span class="op">,</span> contentDescription <span class="op">=</span> <span class="kw">null</span><span class="op">)</span></span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb97-24"><a href="#cb97-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-25"><a href="#cb97-25" aria-hidden="true" tabindex="-1"></a>    createHorizontalChain<span class="op">(</span></span>
<span id="cb97-26"><a href="#cb97-26" aria-hidden="true" tabindex="-1"></a>        button1<span class="op">,</span> button2<span class="op">,</span> button3<span class="op">,</span> button4<span class="op">,</span> chainStyle <span class="op">=</span> ChainStyle<span class="op">.</span>SpreadInside</span>
<span id="cb97-27"><a href="#cb97-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb97-28"><a href="#cb97-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="is-motionlayout-available">Is MotionLayout available?</h2>
<p>There is a Compose version of <code>MotionLayout</code>. The API is
experimental and it might change dramatically in the future.</p>
<p>The major difference between View and Compose
<code>MotionLayout</code> is that the Compose version uses JSON5<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> syntax to define its
<code>MotionScene</code>. Even though the code is not documented, you
can learn more information over the ConstraintLayout <a href="https://github.com/androidx/constraintlayout/wiki">Github
repo</a>.</p>
<p>The following example demonstrates how to load
<code>MotionScene</code> from resources (<em>res/raw</em> folder) and
trigger the animation by using a <code>Slider</code>:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>Column <span class="op">{</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">var</span> <span class="va">progress</span> <span class="kw">by</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span><span class="fl">0.0f</span><span class="op">)</span> <span class="op">}</span></span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>    Slider<span class="op">(</span>value <span class="op">=</span> progress<span class="op">,</span> onValueChange <span class="op">=</span> <span class="op">{</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>        progress <span class="op">=</span> it</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">})</span></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>    Spacer<span class="op">(</span>Modifier<span class="op">.</span>height<span class="op">(</span><span class="fl">40.</span>dp<span class="op">))</span></span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>    MotionLayout<span class="op">(</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>        progress <span class="op">=</span> progress<span class="op">,</span></span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier<span class="op">.</span>fillMaxSize<span class="op">(),</span></span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a>        motionScene <span class="op">=</span> MotionScene<span class="op">(</span>remember <span class="op">{</span></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>            context<span class="op">.</span>resources</span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>openRawResource<span class="op">(</span>R<span class="op">.</span>raw<span class="op">.</span>motion<span class="op">)</span></span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>readBytes<span class="op">()</span></span>
<span id="cb98-14"><a href="#cb98-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>decodeToString<span class="op">()</span></span>
<span id="cb98-15"><a href="#cb98-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb98-16"><a href="#cb98-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb98-17"><a href="#cb98-17" aria-hidden="true" tabindex="-1"></a>        Box<span class="op">(</span></span>
<span id="cb98-18"><a href="#cb98-18" aria-hidden="true" tabindex="-1"></a>            Modifier</span>
<span id="cb98-19"><a href="#cb98-19" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>layoutId<span class="op">(</span><span class="st">&quot;box&quot;</span><span class="op">)</span></span>
<span id="cb98-20"><a href="#cb98-20" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>clip<span class="op">(</span>CircleShape<span class="op">)</span></span>
<span id="cb98-21"><a href="#cb98-21" aria-hidden="true" tabindex="-1"></a>                <span class="op">.</span>background<span class="op">(</span>Color<span class="op">.</span>Red<span class="op">)</span></span>
<span id="cb98-22"><a href="#cb98-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb98-23"><a href="#cb98-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb98-24"><a href="#cb98-24" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><code>res/raw/motion</code>:</p>
<pre class="json5"><code>{
  ConstraintSets: {
    start: {
      box: {
        width: 40,
        height: 40,
        start: [&quot;parent&quot;, &quot;start&quot;],
        top: [&quot;parent&quot;, &quot;top&quot;]
      }
    },
    end: {
      box: {
        width: 80,
        height: 80,
        start: [&quot;parent&quot;, &quot;start&quot;],
        top: [&quot;parent&quot;, &quot;top&quot;]
      }
    }
  }
}</code></pre>
<h1 id="bottom-sheets-in-compose">Bottom Sheets in Compose</h1>
<p>There are two different types of Bottom Sheets. The Standard type is
part of a screen’s layout and part of it is visible at the bottom of the
screen.</p>
<p>The Modal type sits on top of the screen’s layout. This type of
Bottom Sheet is frequently used as an alternative to dialogs or
multi-action menus.</p>
<p><code>BottomSheetScaffold</code> is what is used for Standard Bottom
Sheets. Modal Bottom Sheets can be used via the
<code>ModalBottomSheetLayout</code>.</p>
<h2 id="how-to-create-a-standard-bottom-sheet">How to create a Standard
Bottom Sheet</h2>
<p>Use a <code>BottomSheetScaffold</code> and define the contents of
your bottom sheet:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>BottomSheetScaffold<span class="op">(</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>    sheetContent <span class="op">=</span> <span class="op">{</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>        Column<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>            Row<span class="op">(</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>                modifier <span class="op">=</span> Modifier</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>padding<span class="op">(</span>horizontal <span class="op">=</span> <span class="fl">16.</span>dp<span class="op">),</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>                verticalAlignment <span class="op">=</span> Alignment<span class="op">.</span>CenterVertically</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span> <span class="op">{</span></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>                Text<span class="op">(</span><span class="st">&quot;Current song title&quot;</span><span class="op">,</span> modifier <span class="op">=</span> Modifier<span class="op">.</span>weight<span class="op">(</span><span class="fl">1f</span><span class="op">))</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>                IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="co">/*</span><span class="al">TODO</span><span class="co"> play song*/</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>                    Icon<span class="op">(</span></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>                        Icons<span class="op">.</span>Rounded<span class="op">.</span>PlayArrow<span class="op">,</span></span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>                        contentDescription <span class="op">=</span> <span class="st">&quot;Play&quot;</span></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>                    <span class="op">)</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">})</span> <span class="op">{</span></span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>    Box<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">().</span>padding<span class="op">(</span><span class="fl">16.</span>dp<span class="op">))</span> <span class="op">{</span></span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Main Screen Content&quot;</span><span class="op">)</span></span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-expand-and-collapse-a-standard-bottom-sheet">How to
expand and collapse a Standard Bottom Sheet</h2>
<p>Pass a <code>BottomSheetScaffoldState</code> into the
<code>BottomSheetScaffold</code>. When you need the sheet to be expanded
or hidden, use <code>scaffoldState.bottomSheetState.expand()</code> or
<code>scaffoldState.bottomSheetState.collapse()</code> respectively:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">scaffoldState</span> <span class="op">=</span> rememberBottomSheetScaffoldState<span class="op">()</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">scope</span> <span class="op">=</span> rememberCoroutineScope<span class="op">()</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>BottomSheetScaffold<span class="op">(</span></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>    scaffoldState <span class="op">=</span> scaffoldState<span class="op">,</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>    sheetPeekHeight <span class="op">=</span> <span class="fl">58.</span>dp<span class="op">,</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>    sheetContent <span class="op">=</span> <span class="op">{</span></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>        Column<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>            Row<span class="op">(</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a>                modifier <span class="op">=</span> Modifier</span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a>                    <span class="op">.</span>padding<span class="op">(</span>start <span class="op">=</span> <span class="fl">4.</span>dp<span class="op">,</span> end <span class="op">=</span> <span class="fl">16.</span>dp<span class="op">),</span></span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a>                verticalAlignment <span class="op">=</span> Alignment<span class="op">.</span>CenterVertically</span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span> <span class="op">{</span></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a>                IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span></span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a>                    scope<span class="op">.</span>launch <span class="op">{</span></span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a>                        <span class="cf">if</span> <span class="op">(</span>scaffoldState<span class="op">.</span>bottomSheetState<span class="op">.</span>isCollapsed<span class="op">)</span> <span class="op">{</span></span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a>                            scaffoldState<span class="op">.</span>bottomSheetState<span class="op">.</span>expand<span class="op">()</span></span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a>                        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a>                            scaffoldState<span class="op">.</span>bottomSheetState<span class="op">.</span>collapse<span class="op">()</span></span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a>                        <span class="op">}</span></span>
<span id="cb101-22"><a href="#cb101-22" aria-hidden="true" tabindex="-1"></a>                    <span class="op">}</span></span>
<span id="cb101-23"><a href="#cb101-23" aria-hidden="true" tabindex="-1"></a>                <span class="op">})</span> <span class="op">{</span></span>
<span id="cb101-24"><a href="#cb101-24" aria-hidden="true" tabindex="-1"></a>                    Icon<span class="op">(</span></span>
<span id="cb101-25"><a href="#cb101-25" aria-hidden="true" tabindex="-1"></a>                        <span class="cf">if</span> <span class="op">(</span>scaffoldState<span class="op">.</span>bottomSheetState<span class="op">.</span>isCollapsed<span class="op">)</span> <span class="op">{</span></span>
<span id="cb101-26"><a href="#cb101-26" aria-hidden="true" tabindex="-1"></a>                            Icons<span class="op">.</span>Rounded<span class="op">.</span>KeyboardArrowUp</span>
<span id="cb101-27"><a href="#cb101-27" aria-hidden="true" tabindex="-1"></a>                        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb101-28"><a href="#cb101-28" aria-hidden="true" tabindex="-1"></a>                            Icons<span class="op">.</span>Rounded<span class="op">.</span>KeyboardArrowDown</span>
<span id="cb101-29"><a href="#cb101-29" aria-hidden="true" tabindex="-1"></a>                        <span class="op">},</span></span>
<span id="cb101-30"><a href="#cb101-30" aria-hidden="true" tabindex="-1"></a>                        contentDescription <span class="op">=</span> <span class="st">&quot;Toggle bottom sheet&quot;</span></span>
<span id="cb101-31"><a href="#cb101-31" aria-hidden="true" tabindex="-1"></a>                    <span class="op">)</span></span>
<span id="cb101-32"><a href="#cb101-32" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb101-33"><a href="#cb101-33" aria-hidden="true" tabindex="-1"></a>                Spacer<span class="op">(</span>Modifier<span class="op">.</span>width<span class="op">(</span><span class="fl">10.</span>dp<span class="op">))</span></span>
<span id="cb101-34"><a href="#cb101-34" aria-hidden="true" tabindex="-1"></a>                Text<span class="op">(</span></span>
<span id="cb101-35"><a href="#cb101-35" aria-hidden="true" tabindex="-1"></a>                    <span class="st">&quot;Current song title&quot;</span><span class="op">,</span></span>
<span id="cb101-36"><a href="#cb101-36" aria-hidden="true" tabindex="-1"></a>                    modifier <span class="op">=</span> Modifier<span class="op">.</span>weight<span class="op">(</span><span class="fl">1f</span><span class="op">)</span></span>
<span id="cb101-37"><a href="#cb101-37" aria-hidden="true" tabindex="-1"></a>                <span class="op">)</span></span>
<span id="cb101-38"><a href="#cb101-38" aria-hidden="true" tabindex="-1"></a>                IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="co">/*</span><span class="al">TODO</span><span class="co"> play song*/</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb101-39"><a href="#cb101-39" aria-hidden="true" tabindex="-1"></a>                    Icon<span class="op">(</span></span>
<span id="cb101-40"><a href="#cb101-40" aria-hidden="true" tabindex="-1"></a>                        Icons<span class="op">.</span>Rounded<span class="op">.</span>PlayArrow<span class="op">,</span></span>
<span id="cb101-41"><a href="#cb101-41" aria-hidden="true" tabindex="-1"></a>                        contentDescription <span class="op">=</span> <span class="st">&quot;Play&quot;</span></span>
<span id="cb101-42"><a href="#cb101-42" aria-hidden="true" tabindex="-1"></a>                    <span class="op">)</span></span>
<span id="cb101-43"><a href="#cb101-43" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb101-44"><a href="#cb101-44" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb101-45"><a href="#cb101-45" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb101-46"><a href="#cb101-46" aria-hidden="true" tabindex="-1"></a>    <span class="op">})</span> <span class="op">{</span></span>
<span id="cb101-47"><a href="#cb101-47" aria-hidden="true" tabindex="-1"></a>    Box<span class="op">(</span></span>
<span id="cb101-48"><a href="#cb101-48" aria-hidden="true" tabindex="-1"></a>        Modifier</span>
<span id="cb101-49"><a href="#cb101-49" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>fillMaxSize<span class="op">()</span></span>
<span id="cb101-50"><a href="#cb101-50" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>padding<span class="op">(</span><span class="fl">16.</span>dp<span class="op">)</span></span>
<span id="cb101-51"><a href="#cb101-51" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb101-52"><a href="#cb101-52" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span><span class="st">&quot;Main Screen Content&quot;</span><span class="op">)</span></span>
<span id="cb101-53"><a href="#cb101-53" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb101-54"><a href="#cb101-54" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-listen-to-bottom-sheet-drag-events">How to listen to
Bottom Sheet drag events</h2>
<p><code>BottomSheetScaffoldState</code>’s <code>BottomSheetState</code>
exposes an <em>offset</em> property. This allows you to update your
layout according to the Bottom Sheet’s amount dragged.</p>
<p>The following sample will rotate the Expand icon of the Bottom Sheet,
when the Bottom Sheet is about to be expanded fully:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>Column<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">())</span> <span class="op">{</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>    Row<span class="op">(</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> Modifier</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>padding<span class="op">(</span>start <span class="op">=</span> <span class="fl">4.</span>dp<span class="op">,</span> end <span class="op">=</span> <span class="fl">16.</span>dp<span class="op">),</span></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>        verticalAlignment <span class="op">=</span> Alignment<span class="op">.</span>CenterVertically</span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>        IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span></span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>            scope<span class="op">.</span>launch <span class="op">{</span></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>scaffoldState<span class="op">.</span>bottomSheetState<span class="op">.</span>isCollapsed<span class="op">)</span> <span class="op">{</span></span>
<span id="cb102-11"><a href="#cb102-11" aria-hidden="true" tabindex="-1"></a>                    scaffoldState<span class="op">.</span>bottomSheetState<span class="op">.</span>expand<span class="op">()</span></span>
<span id="cb102-12"><a href="#cb102-12" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb102-13"><a href="#cb102-13" aria-hidden="true" tabindex="-1"></a>                    scaffoldState<span class="op">.</span>bottomSheetState<span class="op">.</span>collapse<span class="op">()</span></span>
<span id="cb102-14"><a href="#cb102-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb102-15"><a href="#cb102-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb102-16"><a href="#cb102-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span> <span class="op">{</span></span>
<span id="cb102-17"><a href="#cb102-17" aria-hidden="true" tabindex="-1"></a>            Icon<span class="op">(</span></span>
<span id="cb102-18"><a href="#cb102-18" aria-hidden="true" tabindex="-1"></a>                Icons<span class="op">.</span>Rounded<span class="op">.</span>KeyboardArrowDown<span class="op">,</span></span>
<span id="cb102-19"><a href="#cb102-19" aria-hidden="true" tabindex="-1"></a>                modifier <span class="op">=</span> Modifier<span class="op">.</span>rotate<span class="op">(</span></span>
<span id="cb102-20"><a href="#cb102-20" aria-hidden="true" tabindex="-1"></a>                    scaffoldState<span class="op">.</span>bottomSheetState<span class="op">.</span>offset<span class="op">.</span>value</span>
<span id="cb102-21"><a href="#cb102-21" aria-hidden="true" tabindex="-1"></a>                        <span class="op">.</span>coerceAtMost<span class="op">(</span><span class="fl">180f</span><span class="op">)</span></span>
<span id="cb102-22"><a href="#cb102-22" aria-hidden="true" tabindex="-1"></a>                <span class="op">),</span></span>
<span id="cb102-23"><a href="#cb102-23" aria-hidden="true" tabindex="-1"></a>                contentDescription <span class="op">=</span> <span class="st">&quot;Toggle bottom sheet&quot;</span></span>
<span id="cb102-24"><a href="#cb102-24" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span></span>
<span id="cb102-25"><a href="#cb102-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb102-26"><a href="#cb102-26" aria-hidden="true" tabindex="-1"></a>        Spacer<span class="op">(</span>Modifier<span class="op">.</span>width<span class="op">(</span><span class="fl">10.</span>dp<span class="op">))</span></span>
<span id="cb102-27"><a href="#cb102-27" aria-hidden="true" tabindex="-1"></a>        Text<span class="op">(</span></span>
<span id="cb102-28"><a href="#cb102-28" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Current song title&quot;</span><span class="op">,</span></span>
<span id="cb102-29"><a href="#cb102-29" aria-hidden="true" tabindex="-1"></a>            modifier <span class="op">=</span> Modifier<span class="op">.</span>weight<span class="op">(</span><span class="fl">1f</span><span class="op">)</span></span>
<span id="cb102-30"><a href="#cb102-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">)</span></span>
<span id="cb102-31"><a href="#cb102-31" aria-hidden="true" tabindex="-1"></a>        IconButton<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> <span class="co">/*</span><span class="al">TODO</span><span class="co"> play song*/</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb102-32"><a href="#cb102-32" aria-hidden="true" tabindex="-1"></a>            Icon<span class="op">(</span></span>
<span id="cb102-33"><a href="#cb102-33" aria-hidden="true" tabindex="-1"></a>                Icons<span class="op">.</span>Rounded<span class="op">.</span>PlayArrow<span class="op">,</span></span>
<span id="cb102-34"><a href="#cb102-34" aria-hidden="true" tabindex="-1"></a>                contentDescription <span class="op">=</span> <span class="st">&quot;Play&quot;</span></span>
<span id="cb102-35"><a href="#cb102-35" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span></span>
<span id="cb102-36"><a href="#cb102-36" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb102-37"><a href="#cb102-37" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb102-38"><a href="#cb102-38" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-customize-the-standard-bottom-sheet">How to customize the
Standard Bottom Sheet?</h2>
<p>The <code>BottomSheetScaffold</code> comes with various styling
options.</p>
<p>You can change the shape of your Bottom Sheet via the
<em>sheetShape</em> parameter. The default value comes from the
<code>MaterialTheme.shapes.large</code> property of your theme.</p>
<p>There is also options for changing the sheet’s peek height via
<em>sheetPeekHeight</em>, changing its elevation via
<em>sheetElevation</em>, and its background color via
<em>sheetBackgroundColor</em>. The default background color of the sheet
comes from the <code>MaterialTheme.colors.surface</code> property of
your theme.</p>
<p>It is recommended to update your theme’s properties instead of hard
coding colors and values when possible. Hard coding styling values to
your composables makes your code harder to maintain. If there is a
design change in the future, you will have to update multiple layouts
instead of a single source of truth.</p>
<h2 id="how-to-create-a-bottom-sheet-handle-indicator">How to create a
Bottom Sheet handle indicator</h2>
<p>There is no built-in composable for the frequently used indicator
most Bottom Sheet have. Creating your own is straightforward:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="at">@Composable</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="kw">fun</span> <span class="fu">BottomSheetHandle</span><span class="op">(</span><span class="va">modifier</span><span class="op">:</span> <span class="dt">Modifier</span> <span class="op">=</span> Modifier<span class="op">)</span> <span class="op">{</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>    Box<span class="op">(</span></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>        modifier <span class="op">=</span> modifier</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>background<span class="op">(</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>                MaterialTheme<span class="op">.</span>colors<span class="op">.</span>onSurface<span class="op">.</span>copy<span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.1f</span><span class="op">),</span></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>                RoundedCornerShape<span class="op">(</span><span class="dv">50</span><span class="op">)</span></span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span></span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">.</span>size<span class="op">(</span>width <span class="op">=</span> <span class="fl">52.</span>dp<span class="op">,</span> height <span class="op">=</span> <span class="fl">4.</span>dp<span class="op">)</span></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-create-a-modal-bottom-sheet">How to create a Modal Bottom
Sheet</h2>
<p>Use the <code>ModalBottomSheetLayout</code> to define the contents of
your Modal Bottom Sheet and provide a <code>ModalBottomSheetState</code>
as a parameter (see <code>rememberModalBottomSheetState()</code>). When
you need to show or hide the Bottom Sheet, use
<code>modalBottomSheetState.show()</code> or
<code>modalBottomSheetState.hide()</code> respectively:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">sheetState</span> <span class="op">=</span> rememberModalBottomSheetState<span class="op">(</span>initialValue <span class="op">=</span> Hidden<span class="op">)</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>ModalBottomSheetLayout<span class="op">(</span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>    sheetContent <span class="op">=</span> <span class="op">{</span></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>        Column<span class="op">(</span>Modifier<span class="op">.</span>padding<span class="op">(</span><span class="fl">16.</span>dp<span class="op">))</span> <span class="op">{</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>            repeat<span class="op">(</span><span class="dv">3</span><span class="op">)</span> <span class="op">{</span> index <span class="op">-&gt;</span></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>                Row<span class="op">(</span></span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>                    horizontalArrangement <span class="op">=</span> Arrangement<span class="op">.</span>spacedBy<span class="op">(</span><span class="fl">20.</span>dp<span class="op">),</span></span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>                    modifier <span class="op">=</span> Modifier</span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>                        <span class="op">.</span>clickable <span class="op">{</span> <span class="co">/* </span><span class="al">TODO</span><span class="co"> */</span> <span class="op">}</span></span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a>                        <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb104-12"><a href="#cb104-12" aria-hidden="true" tabindex="-1"></a>                        <span class="op">.</span>padding<span class="op">(</span>vertical <span class="op">=</span> <span class="fl">10.</span>dp<span class="op">)</span></span>
<span id="cb104-13"><a href="#cb104-13" aria-hidden="true" tabindex="-1"></a>                <span class="op">)</span> <span class="op">{</span></span>
<span id="cb104-14"><a href="#cb104-14" aria-hidden="true" tabindex="-1"></a>                    Icon<span class="op">(</span></span>
<span id="cb104-15"><a href="#cb104-15" aria-hidden="true" tabindex="-1"></a>                        Icons<span class="op">.</span>Rounded<span class="op">.</span>ShoppingCart<span class="op">,</span></span>
<span id="cb104-16"><a href="#cb104-16" aria-hidden="true" tabindex="-1"></a>                        contentDescription <span class="op">=</span> <span class="kw">null</span></span>
<span id="cb104-17"><a href="#cb104-17" aria-hidden="true" tabindex="-1"></a>                    <span class="op">)</span></span>
<span id="cb104-18"><a href="#cb104-18" aria-hidden="true" tabindex="-1"></a>                    Text<span class="op">(</span><span class="st">&quot;Option </span><span class="ss">$index</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb104-19"><a href="#cb104-19" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb104-20"><a href="#cb104-20" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb104-21"><a href="#cb104-21" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb104-22"><a href="#cb104-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">})</span> <span class="op">{</span></span>
<span id="cb104-23"><a href="#cb104-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">scope</span> <span class="op">=</span> rememberCoroutineScope<span class="op">()</span></span>
<span id="cb104-24"><a href="#cb104-24" aria-hidden="true" tabindex="-1"></a>    Box<span class="op">(</span>Modifier<span class="op">.</span>fillMaxSize<span class="op">(),</span> contentAlignment <span class="op">=</span> Alignment<span class="op">.</span>Center<span class="op">)</span> <span class="op">{</span></span>
<span id="cb104-25"><a href="#cb104-25" aria-hidden="true" tabindex="-1"></a>        Button<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span></span>
<span id="cb104-26"><a href="#cb104-26" aria-hidden="true" tabindex="-1"></a>            scope<span class="op">.</span>launch <span class="op">{</span></span>
<span id="cb104-27"><a href="#cb104-27" aria-hidden="true" tabindex="-1"></a>                sheetState<span class="op">.</span>show<span class="op">()</span></span>
<span id="cb104-28"><a href="#cb104-28" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb104-29"><a href="#cb104-29" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span> <span class="op">{</span></span>
<span id="cb104-30"><a href="#cb104-30" aria-hidden="true" tabindex="-1"></a>            Text<span class="op">(</span><span class="st">&quot;Buy&quot;</span><span class="op">)</span></span>
<span id="cb104-31"><a href="#cb104-31" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb104-32"><a href="#cb104-32" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb104-33"><a href="#cb104-33" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="how-to-navigate-to-a-bottom-sheet-using-the-androidx-navigation-library">How
to navigate to a Bottom Sheet using the AndroidX Navigation library</h2>
<p>The AndroidX Navigation library supports navigating to a dialog as a
target destination in your graph using XML. This combined with a
<code>BottomSheetDialogFragment</code> can enable your app to navigate
to a Bottom Sheet destination when needed. Even though the Compose
version of the library supports <code>dialog()</code> as a destination,
it does not support bottom sheets.</p>
<p>In order to support this case, you need to use the <a href="https://google.github.io/accompanist/navigation-material">Accompanist’s
Jetpack Navigation Compose Material</a> module. It works similar to how
the original Compose Navigation library with a different setup.</p>
<p>You need to create a <code>bottomSheetNavigator()</code> and pass it
to your <code>navController</code>. Wrap your <code>NavHost</code> into
a <code>ModalBottomSheetLayout</code> using the new
<code>navController</code>.</p>
<p>Finally, define a <code>bottomSheet()</code> destination, similar to
how you would define your other destinations such as
<code>composable()</code> and <code>dialog()</code>:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">bottomSheetNavigator</span> <span class="op">=</span> rememberBottomSheetNavigator<span class="op">()</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="kw">val</span> <span class="va">navController</span> <span class="op">=</span> rememberNavController<span class="op">(</span>bottomSheetNavigator<span class="op">)</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>ModalBottomSheetLayout<span class="op">(</span>bottomSheetNavigator<span class="op">)</span> <span class="op">{</span></span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>    NavHost<span class="op">(</span>navController<span class="op">,</span> <span class="st">&quot;start&quot;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>        composable<span class="op">(</span><span class="st">&quot;start&quot;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>            Button<span class="op">(</span>onClick <span class="op">=</span> <span class="op">{</span> navController<span class="op">.</span>navigate<span class="op">(</span><span class="st">&quot;buy&quot;</span><span class="op">)</span> <span class="op">})</span> <span class="op">{</span></span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>                Text<span class="op">(</span><span class="st">&quot;Buy&quot;</span><span class="op">)</span></span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>        bottomSheet<span class="op">(</span><span class="st">&quot;buy&quot;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>            Column<span class="op">(</span>Modifier<span class="op">.</span>padding<span class="op">(</span><span class="fl">16.</span>dp<span class="op">))</span> <span class="op">{</span></span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>                repeat<span class="op">(</span><span class="dv">3</span><span class="op">)</span> <span class="op">{</span> index <span class="op">-&gt;</span></span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>                    Row<span class="op">(</span></span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a>                        horizontalArrangement <span class="op">=</span> </span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a>                             Arrangement<span class="op">.</span>spacedBy<span class="op">(</span><span class="fl">20.</span>dp<span class="op">),</span></span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a>                        modifier <span class="op">=</span> Modifier</span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a>                            <span class="op">.</span>clickable <span class="op">{</span> <span class="co">/* </span><span class="al">TODO</span><span class="co"> */</span> <span class="op">}</span></span>
<span id="cb105-19"><a href="#cb105-19" aria-hidden="true" tabindex="-1"></a>                            <span class="op">.</span>fillMaxWidth<span class="op">()</span></span>
<span id="cb105-20"><a href="#cb105-20" aria-hidden="true" tabindex="-1"></a>                            <span class="op">.</span>padding<span class="op">(</span>vertical <span class="op">=</span> <span class="fl">10.</span>dp<span class="op">)</span></span>
<span id="cb105-21"><a href="#cb105-21" aria-hidden="true" tabindex="-1"></a>                    <span class="op">)</span> <span class="op">{</span></span>
<span id="cb105-22"><a href="#cb105-22" aria-hidden="true" tabindex="-1"></a>                        Icon<span class="op">(</span></span>
<span id="cb105-23"><a href="#cb105-23" aria-hidden="true" tabindex="-1"></a>                            Icons<span class="op">.</span>Rounded<span class="op">.</span>ShoppingCart<span class="op">,</span></span>
<span id="cb105-24"><a href="#cb105-24" aria-hidden="true" tabindex="-1"></a>                            contentDescription <span class="op">=</span> <span class="kw">null</span></span>
<span id="cb105-25"><a href="#cb105-25" aria-hidden="true" tabindex="-1"></a>                        <span class="op">)</span></span>
<span id="cb105-26"><a href="#cb105-26" aria-hidden="true" tabindex="-1"></a>                        Text<span class="op">(</span><span class="st">&quot;Option </span><span class="ss">$index</span><span class="st">&quot;</span><span class="op">)</span></span>
<span id="cb105-27"><a href="#cb105-27" aria-hidden="true" tabindex="-1"></a>                    <span class="op">}</span></span>
<span id="cb105-28"><a href="#cb105-28" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb105-29"><a href="#cb105-29" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb105-30"><a href="#cb105-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb105-31"><a href="#cb105-31" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb105-32"><a href="#cb105-32" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h1 id="see-you-on-the-internet">See you on the Internet</h1>
<p>This is it. Everything I wished I knew when I got started using
Jetpack Compose and did not know how to do is in this resource.</p>
<p>I am honestly hoping it will make your transition in using Jetpack
Compose much simpler and straightforward than it was for me. There are
always more things to learn and explore about Jetpack Compose but
everything covered here should be enough for the majority of cases you
need to tackle.</p>
<p>If you need to reach me, send me an e-mail at <a href="mailto:alex@alexstyl.com">alex@alexstyl.com</a></p>
<p>For more Jetpack Compose tips, <a href="https://youtube.com/alexstyl">subscribe on Youtube</a>.</p>
<p>I am also <a href="https://twitter.com/alexstyl">active on
Twitter</a>, sharing tips on Jetpack Compose or what I am currently
building.</p>
<p>Happy coding,</p>
<p>– Alex Styl</p>
<h1 id="about-the-author">About the Author</h1>
<p>Thank you for purchasing my book! I am Alex Styl (short for
Alexandros Stylianidis) and I have been developing for Android since
version 2.3 (Gingerbread). I have worked on projects for international
companies such as Apple’s Shazam and Channel 4’s All-4. I have also used
Android to conduct research during my Human-Computer Interaction Master
degree. The final thesis was later rewritten into a publication format
which was then <a href="https://dl.acm.org/doi/10.1145/3027063.3053135">accepted to
CHI17</a>, one of the world’s biggest HCI conferences.</p>
<p>Other than building for Android, I was one of the founding members of
the Greek Android developers Slack community, which later turned into
the GDG Android Athens and <a href="https://www.meetup.com/GDG-Android-Athens/">monthly
meetups</a>.</p>
<p>Since 2021, I quit my full time job as a Software Engineer to focus
on my own ventures. This gives me enough time and flexibility to focus
on creating Jetpack Compose content (such as <a href="https://www.youtube.com/c/AlexStyl">concice, no-fluff videos</a>
or this book). For more up to date tips and updates on what I am
currently building next, <a href="https://twitter.com/alexstyl">follow
me on Twitter</a>.</p>
<p>Your continuous support is what fuels this work to exist.</p>
<h1 id="appendix">Appendix</h1>
<h2 id="libraries-used-in-samples">Libraries used in samples</h2>
<p>The following table contains all libraries used, the version used to
write the samples and a link where to download them from:</p>
<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th>Library</th>
<th>Version</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Jetpack Compose</td>
<td>1.2.0-rc01</td>
<td><a href="https://developer.android.com/jetpack/androidx/releases/compose">Link</a></td>
</tr>
<tr class="even">
<td>Accompanist</td>
<td>0.24.12-rc</td>
<td><a href="https://google.github.io/accompanist">Link</a></td>
</tr>
<tr class="odd">
<td>ConstraintLayout Compose</td>
<td>1.0.0-beta02</td>
<td><a href="https://developer.android.com/jetpack/compose/layouts/constraintlayout">Link</a></td>
</tr>
<tr class="even">
<td>Snapper</td>
<td>0.2.1</td>
<td><a href="https://chrisbanes.github.io/snapper">Link</a></td>
</tr>
<tr class="odd">
<td>Navigation</td>
<td>2.4.2</td>
<td><a href="https://developer.android.com/jetpack/compose/navigation">Link</a></td>
</tr>
<tr class="even">
<td>lifecycle-viewmodel-compose</td>
<td>2.5.0</td>
<td><a href="https://developer.android.com/jetpack/androidx/releases/lifecycle">Link</a></td>
</tr>
</tbody>
</table>
<h2 id="david-lius-lazycolumnitemdiffanimations">David Liu’s
LazyColumnItemDiffAnimations</h2>
<p>An experimental method for providing item diff animations in a
LazyColumn. Note that this only handles additions and removals, not
moves. <a href="https://github.com/davidliu/LazyColumnItemDiffAnimations">Implementation
taken from Github</a></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="at">@ExperimentalAnimationApi</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="at">@Suppress</span><span class="op">(</span><span class="st">&quot;UpdateTransitionLabel&quot;</span><span class="op">,</span> <span class="st">&quot;TransitionPropertiesLabel&quot;</span><span class="op">)</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="at">@SuppressLint</span><span class="op">(</span><span class="st">&quot;ComposableNaming&quot;</span><span class="op">,</span> <span class="st">&quot;UnusedTransitionTargetStateParameter&quot;</span><span class="op">)</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="co">/**</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="co"> * @param state Use [updateAnimatedItemsState].</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a><span class="co"> */</span></span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a><span class="kw">inline</span> <span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="fu">LazyListScope</span><span class="op">.</span><span class="fu">animatedItemsIndexed</span><span class="op">(</span></span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">state</span><span class="op">:</span> <span class="dt">List</span>&lt;<span class="va">AnimatedItem</span>&lt;<span class="va">T</span>&gt;&gt;<span class="op">,</span></span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a>    <span class="va">enterTransition</span><span class="op">:</span> <span class="dt">EnterTransition</span> <span class="op">=</span> expandVertically<span class="op">(),</span></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">exitTransition</span><span class="op">:</span> <span class="dt">ExitTransition</span> <span class="op">=</span> shrinkVertically<span class="op">(),</span></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">noinline</span> <span class="va">key</span><span class="op">:</span> <span class="op">(</span>(<span class="dt">item</span>: <span class="dt">T</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">Any</span><span class="op">)</span>? <span class="op">=</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">crossinline</span> itemContent<span class="op">:</span> <span class="at">@Composable</span> LazyItemScope<span class="op">.(</span>index<span class="op">:</span> <span class="kw">Int</span><span class="op">,</span> item<span class="op">:</span> T<span class="op">)</span> <span class="op">-&gt;</span> <span class="kw">Unit</span></span>
<span id="cb106-13"><a href="#cb106-13" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-14"><a href="#cb106-14" aria-hidden="true" tabindex="-1"></a>    items<span class="op">(</span></span>
<span id="cb106-15"><a href="#cb106-15" aria-hidden="true" tabindex="-1"></a>        state<span class="op">.</span>size<span class="op">,</span></span>
<span id="cb106-16"><a href="#cb106-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>key <span class="op">!=</span> <span class="kw">null</span><span class="op">)</span> <span class="op">{</span> keyIndex<span class="op">:</span> <span class="kw">Int</span> <span class="op">-&gt;</span> key<span class="op">(</span>state<span class="op">[</span>keyIndex<span class="op">].</span>item<span class="op">)</span> <span class="op">}</span> <span class="cf">else</span> <span class="kw">null</span></span>
<span id="cb106-17"><a href="#cb106-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span> <span class="op">{</span> index <span class="op">-&gt;</span></span>
<span id="cb106-18"><a href="#cb106-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-19"><a href="#cb106-19" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">item</span> <span class="op">=</span> state<span class="op">[</span>index<span class="op">]</span></span>
<span id="cb106-20"><a href="#cb106-20" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">visibility</span> <span class="op">=</span> item<span class="op">.</span>visibility</span>
<span id="cb106-21"><a href="#cb106-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-22"><a href="#cb106-22" aria-hidden="true" tabindex="-1"></a>        androidx<span class="op">.</span>compose<span class="op">.</span>runtime<span class="op">.</span>key<span class="op">(</span>key<span class="op">?.</span>invoke<span class="op">(</span>item<span class="op">.</span>item<span class="op">))</span> <span class="op">{</span></span>
<span id="cb106-23"><a href="#cb106-23" aria-hidden="true" tabindex="-1"></a>            AnimatedVisibility<span class="op">(</span></span>
<span id="cb106-24"><a href="#cb106-24" aria-hidden="true" tabindex="-1"></a>                visibleState <span class="op">=</span> visibility<span class="op">,</span></span>
<span id="cb106-25"><a href="#cb106-25" aria-hidden="true" tabindex="-1"></a>                enter <span class="op">=</span> enterTransition<span class="op">,</span></span>
<span id="cb106-26"><a href="#cb106-26" aria-hidden="true" tabindex="-1"></a>                exit <span class="op">=</span> exitTransition</span>
<span id="cb106-27"><a href="#cb106-27" aria-hidden="true" tabindex="-1"></a>            <span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-28"><a href="#cb106-28" aria-hidden="true" tabindex="-1"></a>                itemContent<span class="op">(</span>index<span class="op">,</span> item<span class="op">.</span>item<span class="op">)</span></span>
<span id="cb106-29"><a href="#cb106-29" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb106-30"><a href="#cb106-30" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb106-31"><a href="#cb106-31" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb106-32"><a href="#cb106-32" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb106-33"><a href="#cb106-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-34"><a href="#cb106-34" aria-hidden="true" tabindex="-1"></a><span class="at">@Composable</span></span>
<span id="cb106-35"><a href="#cb106-35" aria-hidden="true" tabindex="-1"></a><span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="fu">updateAnimatedItemsState</span><span class="op">(</span></span>
<span id="cb106-36"><a href="#cb106-36" aria-hidden="true" tabindex="-1"></a>    <span class="va">newList</span><span class="op">:</span> <span class="dt">List</span>&lt;<span class="va">T</span>&gt;</span>
<span id="cb106-37"><a href="#cb106-37" aria-hidden="true" tabindex="-1"></a><span class="op">):</span> <span class="dt">State</span><span class="op">&lt;</span><span class="dt">List</span><span class="op">&lt;</span><span class="dt">AnimatedItem</span><span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;&gt;&gt;</span> <span class="op">{</span></span>
<span id="cb106-38"><a href="#cb106-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-39"><a href="#cb106-39" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">state</span> <span class="op">=</span> remember <span class="op">{</span> mutableStateOf<span class="op">(</span>emptyList<span class="op">&lt;</span>AnimatedItem<span class="op">&lt;</span>T<span class="op">&gt;&gt;())</span> <span class="op">}</span></span>
<span id="cb106-40"><a href="#cb106-40" aria-hidden="true" tabindex="-1"></a>    LaunchedEffect<span class="op">(</span>newList<span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-41"><a href="#cb106-41" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>state<span class="op">.</span>value <span class="op">==</span> newList<span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-42"><a href="#cb106-42" aria-hidden="true" tabindex="-1"></a>            return<span class="at">@LaunchedEffect</span></span>
<span id="cb106-43"><a href="#cb106-43" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb106-44"><a href="#cb106-44" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">oldList</span> <span class="op">=</span> state<span class="op">.</span>value<span class="op">.</span>toList<span class="op">()</span></span>
<span id="cb106-45"><a href="#cb106-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-46"><a href="#cb106-46" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">diffCb</span> <span class="op">=</span> <span class="kw">object</span> <span class="op">:</span> <span class="dt">DiffUtil</span>.<span class="dt">Callback</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb106-47"><a href="#cb106-47" aria-hidden="true" tabindex="-1"></a>            <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">getOldListSize</span><span class="op">():</span> <span class="dt">Int</span> <span class="op">=</span> oldList<span class="op">.</span>size</span>
<span id="cb106-48"><a href="#cb106-48" aria-hidden="true" tabindex="-1"></a>            <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">getNewListSize</span><span class="op">():</span> <span class="dt">Int</span> <span class="op">=</span> newList<span class="op">.</span>size</span>
<span id="cb106-49"><a href="#cb106-49" aria-hidden="true" tabindex="-1"></a>            <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">areItemsTheSame</span><span class="op">(</span><span class="va">oldItemPosition</span><span class="op">:</span> <span class="dt">Int</span><span class="op">,</span> <span class="va">newItemPosition</span><span class="op">:</span> <span class="dt">Int</span><span class="op">):</span> <span class="dt">Boolean</span> <span class="op">=</span></span>
<span id="cb106-50"><a href="#cb106-50" aria-hidden="true" tabindex="-1"></a>                oldList<span class="op">[</span>oldItemPosition<span class="op">].</span>item <span class="op">==</span> newList<span class="op">[</span>newItemPosition<span class="op">]</span></span>
<span id="cb106-51"><a href="#cb106-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-52"><a href="#cb106-52" aria-hidden="true" tabindex="-1"></a>            <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">areContentsTheSame</span><span class="op">(</span><span class="va">oldItemPosition</span><span class="op">:</span> <span class="dt">Int</span><span class="op">,</span> <span class="va">newItemPosition</span><span class="op">:</span> <span class="dt">Int</span><span class="op">):</span> <span class="dt">Boolean</span> <span class="op">=</span></span>
<span id="cb106-53"><a href="#cb106-53" aria-hidden="true" tabindex="-1"></a>                oldList<span class="op">[</span>oldItemPosition<span class="op">].</span>item <span class="op">==</span> newList<span class="op">[</span>newItemPosition<span class="op">]</span></span>
<span id="cb106-54"><a href="#cb106-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-55"><a href="#cb106-55" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb106-56"><a href="#cb106-56" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">diffResult</span> <span class="op">=</span> calculateDiff<span class="op">(</span><span class="kw">false</span><span class="op">,</span> diffCb<span class="op">)</span></span>
<span id="cb106-57"><a href="#cb106-57" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">compositeList</span> <span class="op">=</span> oldList<span class="op">.</span>toMutableList<span class="op">()</span></span>
<span id="cb106-58"><a href="#cb106-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-59"><a href="#cb106-59" aria-hidden="true" tabindex="-1"></a>        diffResult<span class="op">.</span>dispatchUpdatesTo<span class="op">(</span><span class="kw">object</span> <span class="op">:</span> <span class="dt">ListUpdateCallback</span> <span class="op">{</span></span>
<span id="cb106-60"><a href="#cb106-60" aria-hidden="true" tabindex="-1"></a>            <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">onInserted</span><span class="op">(</span><span class="va">position</span><span class="op">:</span> <span class="dt">Int</span><span class="op">,</span> <span class="va">count</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-61"><a href="#cb106-61" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="dv">0</span> until count<span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-62"><a href="#cb106-62" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">val</span> <span class="va">newItem</span> <span class="op">=</span> AnimatedItem<span class="op">(</span>visibility <span class="op">=</span> MutableTransitionState<span class="op">(</span><span class="kw">false</span><span class="op">),</span> newList<span class="op">[</span>position <span class="op">+</span> i<span class="op">])</span></span>
<span id="cb106-63"><a href="#cb106-63" aria-hidden="true" tabindex="-1"></a>                    newItem<span class="op">.</span>visibility<span class="op">.</span>targetState <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb106-64"><a href="#cb106-64" aria-hidden="true" tabindex="-1"></a>                    compositeList<span class="op">.</span>add<span class="op">(</span>position <span class="op">+</span> i<span class="op">,</span> newItem<span class="op">)</span></span>
<span id="cb106-65"><a href="#cb106-65" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb106-66"><a href="#cb106-66" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb106-67"><a href="#cb106-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-68"><a href="#cb106-68" aria-hidden="true" tabindex="-1"></a>            <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">onRemoved</span><span class="op">(</span><span class="va">position</span><span class="op">:</span> <span class="dt">Int</span><span class="op">,</span> <span class="va">count</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-69"><a href="#cb106-69" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> <span class="op">(</span>i <span class="kw">in</span> <span class="dv">0</span> until count<span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-70"><a href="#cb106-70" aria-hidden="true" tabindex="-1"></a>                    compositeList<span class="op">[</span>position <span class="op">+</span> i<span class="op">].</span>visibility<span class="op">.</span>targetState <span class="op">=</span> <span class="kw">false</span></span>
<span id="cb106-71"><a href="#cb106-71" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb106-72"><a href="#cb106-72" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb106-73"><a href="#cb106-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-74"><a href="#cb106-74" aria-hidden="true" tabindex="-1"></a>            <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">onMoved</span><span class="op">(</span><span class="va">fromPosition</span><span class="op">:</span> <span class="dt">Int</span><span class="op">,</span> <span class="va">toPosition</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-75"><a href="#cb106-75" aria-hidden="true" tabindex="-1"></a>                <span class="co">// not detecting moves.</span></span>
<span id="cb106-76"><a href="#cb106-76" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb106-77"><a href="#cb106-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-78"><a href="#cb106-78" aria-hidden="true" tabindex="-1"></a>            <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">onChanged</span><span class="op">(</span><span class="va">position</span><span class="op">:</span> <span class="dt">Int</span><span class="op">,</span> <span class="va">count</span><span class="op">:</span> <span class="dt">Int</span><span class="op">,</span> <span class="va">payload</span><span class="op">:</span> <span class="dt">Any</span><span class="op">?)</span> <span class="op">{</span></span>
<span id="cb106-79"><a href="#cb106-79" aria-hidden="true" tabindex="-1"></a>                <span class="co">// irrelevant with compose.</span></span>
<span id="cb106-80"><a href="#cb106-80" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb106-81"><a href="#cb106-81" aria-hidden="true" tabindex="-1"></a>        <span class="op">})</span></span>
<span id="cb106-82"><a href="#cb106-82" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>state<span class="op">.</span>value <span class="op">!=</span> compositeList<span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-83"><a href="#cb106-83" aria-hidden="true" tabindex="-1"></a>            state<span class="op">.</span>value <span class="op">=</span> compositeList</span>
<span id="cb106-84"><a href="#cb106-84" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb106-85"><a href="#cb106-85" aria-hidden="true" tabindex="-1"></a>        <span class="kw">val</span> <span class="va">initialAnimation</span> <span class="op">=</span> Animatable<span class="op">(</span><span class="fl">1.0f</span><span class="op">)</span></span>
<span id="cb106-86"><a href="#cb106-86" aria-hidden="true" tabindex="-1"></a>        initialAnimation<span class="op">.</span>animateTo<span class="op">(</span><span class="fl">0f</span><span class="op">)</span></span>
<span id="cb106-87"><a href="#cb106-87" aria-hidden="true" tabindex="-1"></a>        state<span class="op">.</span>value <span class="op">=</span> state<span class="op">.</span>value<span class="op">.</span>filter <span class="op">{</span> it<span class="op">.</span>visibility<span class="op">.</span>targetState <span class="op">}</span></span>
<span id="cb106-88"><a href="#cb106-88" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb106-89"><a href="#cb106-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-90"><a href="#cb106-90" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> state</span>
<span id="cb106-91"><a href="#cb106-91" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb106-92"><a href="#cb106-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-93"><a href="#cb106-93" aria-hidden="true" tabindex="-1"></a><span class="kw">data</span> <span class="kw">class</span> AnimatedItem<span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;(</span></span>
<span id="cb106-94"><a href="#cb106-94" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">visibility</span><span class="op">:</span> <span class="dt">MutableTransitionState</span>&lt;<span class="va">Boolean</span>&gt;<span class="op">,</span></span>
<span id="cb106-95"><a href="#cb106-95" aria-hidden="true" tabindex="-1"></a>    <span class="kw">val</span> <span class="va">item</span><span class="op">:</span> <span class="dt">T</span><span class="op">,</span></span>
<span id="cb106-96"><a href="#cb106-96" aria-hidden="true" tabindex="-1"></a><span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-97"><a href="#cb106-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-98"><a href="#cb106-98" aria-hidden="true" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">hashCode</span><span class="op">():</span> <span class="dt">Int</span> <span class="op">{</span></span>
<span id="cb106-99"><a href="#cb106-99" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> item<span class="op">?.</span>hashCode<span class="op">()</span> <span class="op">?:</span> <span class="dv">0</span></span>
<span id="cb106-100"><a href="#cb106-100" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb106-101"><a href="#cb106-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-102"><a href="#cb106-102" aria-hidden="true" tabindex="-1"></a>    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">equals</span><span class="op">(</span><span class="va">other</span><span class="op">:</span> <span class="dt">Any</span><span class="op">?):</span> <span class="dt">Boolean</span> <span class="op">{</span></span>
<span id="cb106-103"><a href="#cb106-103" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span><span class="kw">this</span> <span class="op">===</span> other<span class="op">)</span> <span class="kw">return</span> <span class="kw">true</span></span>
<span id="cb106-104"><a href="#cb106-104" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>javaClass <span class="op">!=</span> other<span class="op">?.</span>javaClass<span class="op">)</span> <span class="kw">return</span> <span class="kw">false</span></span>
<span id="cb106-105"><a href="#cb106-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-106"><a href="#cb106-106" aria-hidden="true" tabindex="-1"></a>        other <span class="kw">as</span> AnimatedItem<span class="op">&lt;*&gt;</span></span>
<span id="cb106-107"><a href="#cb106-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-108"><a href="#cb106-108" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>item <span class="op">!=</span> other<span class="op">.</span>item<span class="op">)</span> <span class="kw">return</span> <span class="kw">false</span></span>
<span id="cb106-109"><a href="#cb106-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-110"><a href="#cb106-110" aria-hidden="true" tabindex="-1"></a>        <span class="kw">return</span> <span class="kw">true</span></span>
<span id="cb106-111"><a href="#cb106-111" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb106-112"><a href="#cb106-112" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb106-113"><a href="#cb106-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-114"><a href="#cb106-114" aria-hidden="true" tabindex="-1"></a>suspend <span class="kw">fun</span> <span class="fu">calculateDiff</span><span class="op">(</span></span>
<span id="cb106-115"><a href="#cb106-115" aria-hidden="true" tabindex="-1"></a>    <span class="va">detectMoves</span><span class="op">:</span> <span class="dt">Boolean</span> <span class="op">=</span> true<span class="op">,</span></span>
<span id="cb106-116"><a href="#cb106-116" aria-hidden="true" tabindex="-1"></a>    <span class="va">diffCb</span><span class="op">:</span> <span class="dt">DiffUtil</span>.<span class="va">Callback</span></span>
<span id="cb106-117"><a href="#cb106-117" aria-hidden="true" tabindex="-1"></a><span class="op">):</span> <span class="dt">DiffUtil</span><span class="op">.</span><span class="fu">DiffResult</span> <span class="op">{</span></span>
<span id="cb106-118"><a href="#cb106-118" aria-hidden="true" tabindex="-1"></a>    <span class="kw">return</span> withContext<span class="op">(</span>Dispatchers<span class="op">.</span>Unconfined<span class="op">)</span> <span class="op">{</span></span>
<span id="cb106-119"><a href="#cb106-119" aria-hidden="true" tabindex="-1"></a>        DiffUtil<span class="op">.</span>calculateDiff<span class="op">(</span>diffCb<span class="op">,</span> detectMoves<span class="op">)</span></span>
<span id="cb106-120"><a href="#cb106-120" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb106-121"><a href="#cb106-121" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<section class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>ComponentActivity is part of the <a href="https://developer.android.com/jetpack/androidx/releases/activity">androidx.activity:activity-compose</a>
dependency.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>https://developer.android.com/jetpack/androidx/releases/compose-material<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p><a href="https://google.github.io/accompanist/">Accompanist is a Google
library</a> that contains composables and utilities required by
developers and are not available. It is where new composables are
released and tested before becoming part of the official Compose
framework.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>JSON5 is a different version of JSON.
More info at the <a href="https://json5.org">official
documentation</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
</body>
</html>
